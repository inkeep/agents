/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 2bec295b8a29
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { InkeepAgentsCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool, registerDynamicTools } from "./tools.js";
import { tool$agentsAssociateArtifactComponentWithAgent } from "./tools/agentsAssociateArtifactComponentWithAgent.js";
import { tool$agentsAssociateDataComponentWithAgent } from "./tools/agentsAssociateDataComponentWithAgent.js";
import { tool$agentsCheckArtifactComponentAgentAssociation } from "./tools/agentsCheckArtifactComponentAgentAssociation.js";
import { tool$agentsCheckDataComponentAgentAssociation } from "./tools/agentsCheckDataComponentAgentAssociation.js";
import { tool$agentsCreateAgent } from "./tools/agentsCreateAgent.js";
import { tool$agentsCreateFullAgent } from "./tools/agentsCreateFullAgent.js";
import { tool$agentsDeleteAgent } from "./tools/agentsDeleteAgent.js";
import { tool$agentsDeleteFullAgent } from "./tools/agentsDeleteFullAgent.js";
import { tool$agentsGetAgent } from "./tools/agentsGetAgent.js";
import { tool$agentsGetAgentsUsingArtifactComponent } from "./tools/agentsGetAgentsUsingArtifactComponent.js";
import { tool$agentsGetAgentsUsingDataComponent } from "./tools/agentsGetAgentsUsingDataComponent.js";
import { tool$agentsGetArtifactComponentsForAgent } from "./tools/agentsGetArtifactComponentsForAgent.js";
import { tool$agentsGetDataComponentsForAgent } from "./tools/agentsGetDataComponentsForAgent.js";
import { tool$agentsGetFullAgent } from "./tools/agentsGetFullAgent.js";
import { tool$agentsGetFullAgentDefinition } from "./tools/agentsGetFullAgentDefinition.js";
import { tool$agentsGetRelatedAgentInfos } from "./tools/agentsGetRelatedAgentInfos.js";
import { tool$agentsListAgents } from "./tools/agentsListAgents.js";
import { tool$agentsRemoveArtifactComponentFromAgent } from "./tools/agentsRemoveArtifactComponentFromAgent.js";
import { tool$agentsRemoveDataComponentFromAgent } from "./tools/agentsRemoveDataComponentFromAgent.js";
import { tool$agentsUpdateAgent } from "./tools/agentsUpdateAgent.js";
import { tool$agentsUpdateFullAgent } from "./tools/agentsUpdateFullAgent.js";
import { tool$apiKeysCreateAPIKey } from "./tools/apiKeysCreateAPIKey.js";
import { tool$apiKeysDeleteAPIKey } from "./tools/apiKeysDeleteAPIKey.js";
import { tool$apiKeysGetAPIKeyById } from "./tools/apiKeysGetAPIKeyById.js";
import { tool$apiKeysListAPIKeys } from "./tools/apiKeysListAPIKeys.js";
import { tool$apiKeysUpdateAPIKey } from "./tools/apiKeysUpdateAPIKey.js";
import { tool$artifactComponentsCreateArtifactComponent } from "./tools/artifactComponentsCreateArtifactComponent.js";
import { tool$artifactComponentsDeleteArtifactComponent } from "./tools/artifactComponentsDeleteArtifactComponent.js";
import { tool$artifactComponentsGetArtifactComponentById } from "./tools/artifactComponentsGetArtifactComponentById.js";
import { tool$artifactComponentsListArtifactComponents } from "./tools/artifactComponentsListArtifactComponents.js";
import { tool$artifactComponentsUpdateArtifactComponent } from "./tools/artifactComponentsUpdateArtifactComponent.js";
import { tool$branchesCreateBranch } from "./tools/branchesCreateBranch.js";
import { tool$branchesDeleteBranch } from "./tools/branchesDeleteBranch.js";
import { tool$branchesGetBranch } from "./tools/branchesGetBranch.js";
import { tool$branchesListBranches } from "./tools/branchesListBranches.js";
import { tool$branchesListBranchesForAgent } from "./tools/branchesListBranchesForAgent.js";
import { tool$capabilities } from "./tools/capabilities.js";
import { tool$cliGetManageApiCLIMe } from "./tools/cliGetManageApiCLIMe.js";
import { tool$contextConfigsCreateContextConfig } from "./tools/contextConfigsCreateContextConfig.js";
import { tool$contextConfigsDeleteContextConfig } from "./tools/contextConfigsDeleteContextConfig.js";
import { tool$contextConfigsGetContextConfigById } from "./tools/contextConfigsGetContextConfigById.js";
import { tool$contextConfigsListContextConfigs } from "./tools/contextConfigsListContextConfigs.js";
import { tool$contextConfigsUpdateContextConfig } from "./tools/contextConfigsUpdateContextConfig.js";
import { tool$conversationsGetConversation } from "./tools/conversationsGetConversation.js";
import { tool$credentialsCreateCredential } from "./tools/credentialsCreateCredential.js";
import { tool$credentialsDeleteCredential } from "./tools/credentialsDeleteCredential.js";
import { tool$credentialsGetCredentialById } from "./tools/credentialsGetCredentialById.js";
import { tool$credentialsListCredentials } from "./tools/credentialsListCredentials.js";
import { tool$credentialStoresCreateCredentialInStore } from "./tools/credentialStoresCreateCredentialInStore.js";
import { tool$credentialStoresListCredentialStores } from "./tools/credentialStoresListCredentialStores.js";
import { tool$credentialsUpdateCredential } from "./tools/credentialsUpdateCredential.js";
import { tool$dataComponentsCreateDataComponent } from "./tools/dataComponentsCreateDataComponent.js";
import { tool$dataComponentsDeleteDataComponent } from "./tools/dataComponentsDeleteDataComponent.js";
import { tool$dataComponentsGetDataComponentById } from "./tools/dataComponentsGetDataComponentById.js";
import { tool$dataComponentsListDataComponents } from "./tools/dataComponentsListDataComponents.js";
import { tool$dataComponentsUpdateDataComponent } from "./tools/dataComponentsUpdateDataComponent.js";
import { tool$evaluationsAddEvaluatorToJobConfig } from "./tools/evaluationsAddEvaluatorToJobConfig.js";
import { tool$evaluationsAddEvaluatorToSuiteConfig } from "./tools/evaluationsAddEvaluatorToSuiteConfig.js";
import { tool$evaluationsCreateDataset } from "./tools/evaluationsCreateDataset.js";
import { tool$evaluationsCreateDatasetItem } from "./tools/evaluationsCreateDatasetItem.js";
import { tool$evaluationsCreateDatasetItemsBulk } from "./tools/evaluationsCreateDatasetItemsBulk.js";
import { tool$evaluationsCreateEvaluationJobConfig } from "./tools/evaluationsCreateEvaluationJobConfig.js";
import { tool$evaluationsCreateEvaluationResult } from "./tools/evaluationsCreateEvaluationResult.js";
import { tool$evaluationsCreateEvaluationRunConfig } from "./tools/evaluationsCreateEvaluationRunConfig.js";
import { tool$evaluationsCreateEvaluationSuiteConfig } from "./tools/evaluationsCreateEvaluationSuiteConfig.js";
import { tool$evaluationsCreateEvaluator } from "./tools/evaluationsCreateEvaluator.js";
import { tool$evaluationsDeleteDataset } from "./tools/evaluationsDeleteDataset.js";
import { tool$evaluationsDeleteDatasetItem } from "./tools/evaluationsDeleteDatasetItem.js";
import { tool$evaluationsDeleteEvaluationJobConfig } from "./tools/evaluationsDeleteEvaluationJobConfig.js";
import { tool$evaluationsDeleteEvaluationResult } from "./tools/evaluationsDeleteEvaluationResult.js";
import { tool$evaluationsDeleteEvaluationRunConfig } from "./tools/evaluationsDeleteEvaluationRunConfig.js";
import { tool$evaluationsDeleteEvaluationSuiteConfig } from "./tools/evaluationsDeleteEvaluationSuiteConfig.js";
import { tool$evaluationsDeleteEvaluator } from "./tools/evaluationsDeleteEvaluator.js";
import { tool$evaluationsEvaluateConversation } from "./tools/evaluationsEvaluateConversation.js";
import { tool$evaluationsGetDataset } from "./tools/evaluationsGetDataset.js";
import { tool$evaluationsGetDatasetItem } from "./tools/evaluationsGetDatasetItem.js";
import { tool$evaluationsGetEvaluationJobConfig } from "./tools/evaluationsGetEvaluationJobConfig.js";
import { tool$evaluationsGetEvaluationJobConfigResults } from "./tools/evaluationsGetEvaluationJobConfigResults.js";
import { tool$evaluationsGetEvaluationResult } from "./tools/evaluationsGetEvaluationResult.js";
import { tool$evaluationsGetEvaluationRunConfig } from "./tools/evaluationsGetEvaluationRunConfig.js";
import { tool$evaluationsGetEvaluationRunConfigResults } from "./tools/evaluationsGetEvaluationRunConfigResults.js";
import { tool$evaluationsGetEvaluationSuiteConfig } from "./tools/evaluationsGetEvaluationSuiteConfig.js";
import { tool$evaluationsGetEvaluator } from "./tools/evaluationsGetEvaluator.js";
import { tool$evaluationsGetEvaluatorsBatch } from "./tools/evaluationsGetEvaluatorsBatch.js";
import { tool$evaluationsListDatasetItems } from "./tools/evaluationsListDatasetItems.js";
import { tool$evaluationsListDatasets } from "./tools/evaluationsListDatasets.js";
import { tool$evaluationsListEvaluationJobConfigEvaluators } from "./tools/evaluationsListEvaluationJobConfigEvaluators.js";
import { tool$evaluationsListEvaluationJobConfigs } from "./tools/evaluationsListEvaluationJobConfigs.js";
import { tool$evaluationsListEvaluationRunConfigs } from "./tools/evaluationsListEvaluationRunConfigs.js";
import { tool$evaluationsListEvaluationSuiteConfigEvaluators } from "./tools/evaluationsListEvaluationSuiteConfigEvaluators.js";
import { tool$evaluationsListEvaluationSuiteConfigs } from "./tools/evaluationsListEvaluationSuiteConfigs.js";
import { tool$evaluationsListEvaluators } from "./tools/evaluationsListEvaluators.js";
import { tool$evaluationsRemoveEvaluatorFromJobConfig } from "./tools/evaluationsRemoveEvaluatorFromJobConfig.js";
import { tool$evaluationsRemoveEvaluatorFromSuiteConfig } from "./tools/evaluationsRemoveEvaluatorFromSuiteConfig.js";
import { tool$evaluationsStartConversationsEvaluations } from "./tools/evaluationsStartConversationsEvaluations.js";
import { tool$evaluationsUpdateDataset } from "./tools/evaluationsUpdateDataset.js";
import { tool$evaluationsUpdateDatasetItem } from "./tools/evaluationsUpdateDatasetItem.js";
import { tool$evaluationsUpdateEvaluationResult } from "./tools/evaluationsUpdateEvaluationResult.js";
import { tool$evaluationsUpdateEvaluationRunConfig } from "./tools/evaluationsUpdateEvaluationRunConfig.js";
import { tool$evaluationsUpdateEvaluationSuiteConfig } from "./tools/evaluationsUpdateEvaluationSuiteConfig.js";
import { tool$evaluationsUpdateEvaluator } from "./tools/evaluationsUpdateEvaluator.js";
import { tool$externalAgentsCreateExternalAgent } from "./tools/externalAgentsCreateExternalAgent.js";
import { tool$externalAgentsDeleteExternalAgent } from "./tools/externalAgentsDeleteExternalAgent.js";
import { tool$externalAgentsGetExternalAgentById } from "./tools/externalAgentsGetExternalAgentById.js";
import { tool$externalAgentsListExternalAgents } from "./tools/externalAgentsListExternalAgents.js";
import { tool$externalAgentsUpdateExternalAgent } from "./tools/externalAgentsUpdateExternalAgent.js";
import { tool$functionsCreateFunction } from "./tools/functionsCreateFunction.js";
import { tool$functionsDeleteFunction } from "./tools/functionsDeleteFunction.js";
import { tool$functionsGetFunction } from "./tools/functionsGetFunction.js";
import { tool$functionsListFunctions } from "./tools/functionsListFunctions.js";
import { tool$functionsUpdateFunction } from "./tools/functionsUpdateFunction.js";
import { tool$functionToolsCreateFunctionTool } from "./tools/functionToolsCreateFunctionTool.js";
import { tool$functionToolsDeleteFunctionTool } from "./tools/functionToolsDeleteFunctionTool.js";
import { tool$functionToolsGetFunctionTool } from "./tools/functionToolsGetFunctionTool.js";
import { tool$functionToolsListFunctionTools } from "./tools/functionToolsListFunctionTools.js";
import { tool$functionToolsUpdateFunctionTool } from "./tools/functionToolsUpdateFunctionTool.js";
import { tool$gitHubDeleteGithubInstallation } from "./tools/gitHubDeleteGithubInstallation.js";
import { tool$gitHubDisconnectGithubInstallation } from "./tools/gitHubDisconnectGithubInstallation.js";
import { tool$gitHubGetGithubInstallationDetails } from "./tools/gitHubGetGithubInstallationDetails.js";
import { tool$gitHubGetGithubInstallUrl } from "./tools/gitHubGetGithubInstallUrl.js";
import { tool$gitHubListGithubInstallations } from "./tools/gitHubListGithubInstallations.js";
import { tool$gitHubReconnectGithubInstallation } from "./tools/gitHubReconnectGithubInstallation.js";
import { tool$gitHubSyncGithubInstallationRepositories } from "./tools/gitHubSyncGithubInstallationRepositories.js";
import { tool$healthHealth } from "./tools/healthHealth.js";
import { tool$healthReady } from "./tools/healthReady.js";
import { tool$mcpCatalogListMCPCatalog } from "./tools/mcpCatalogListMCPCatalog.js";
import { tool$oAuthInitiateOauthLoginPublic } from "./tools/oAuthInitiateOauthLoginPublic.js";
import { tool$oAuthMcpOauthCallback } from "./tools/oAuthMcpOauthCallback.js";
import { tool$oAuthSlackInstall } from "./tools/oAuthSlackInstall.js";
import { tool$oAuthSlackOauthRedirect } from "./tools/oAuthSlackOauthRedirect.js";
import { tool$projectMembersAddProjectMember } from "./tools/projectMembersAddProjectMember.js";
import { tool$projectMembersListProjectMembers } from "./tools/projectMembersListProjectMembers.js";
import { tool$projectMembersRemoveProjectMember } from "./tools/projectMembersRemoveProjectMember.js";
import { tool$projectMembersUpdateProjectMember } from "./tools/projectMembersUpdateProjectMember.js";
import { tool$projectPermissionsGetProjectPermissions } from "./tools/projectPermissionsGetProjectPermissions.js";
import { tool$projectsCreateFullProject } from "./tools/projectsCreateFullProject.js";
import { tool$projectsCreateProject } from "./tools/projectsCreateProject.js";
import { tool$projectsDeleteFullProject } from "./tools/projectsDeleteFullProject.js";
import { tool$projectsDeleteProject } from "./tools/projectsDeleteProject.js";
import { tool$projectsGetFullProject } from "./tools/projectsGetFullProject.js";
import { tool$projectsGetFullProjectWithRelationIds } from "./tools/projectsGetFullProjectWithRelationIds.js";
import { tool$projectsGetProjectById } from "./tools/projectsGetProjectById.js";
import { tool$projectsGetProjectGithubAccess } from "./tools/projectsGetProjectGithubAccess.js";
import { tool$projectsListProjects } from "./tools/projectsListProjects.js";
import { tool$projectsSetProjectGithubAccess } from "./tools/projectsSetProjectGithubAccess.js";
import { tool$projectsUpdateFullProject } from "./tools/projectsUpdateFullProject.js";
import { tool$projectsUpdateProject } from "./tools/projectsUpdateProject.js";
import { tool$refsResolveRef } from "./tools/refsResolveRef.js";
import { tool$scheduledTriggersCancelScheduledTriggerInvocation } from "./tools/scheduledTriggersCancelScheduledTriggerInvocation.js";
import { tool$scheduledTriggersCreateScheduledTrigger } from "./tools/scheduledTriggersCreateScheduledTrigger.js";
import { tool$scheduledTriggersDeleteScheduledTrigger } from "./tools/scheduledTriggersDeleteScheduledTrigger.js";
import { tool$scheduledTriggersGetScheduledTriggerById } from "./tools/scheduledTriggersGetScheduledTriggerById.js";
import { tool$scheduledTriggersGetScheduledTriggerInvocationById } from "./tools/scheduledTriggersGetScheduledTriggerInvocationById.js";
import { tool$scheduledTriggersListScheduledTriggerInvocations } from "./tools/scheduledTriggersListScheduledTriggerInvocations.js";
import { tool$scheduledTriggersListScheduledTriggers } from "./tools/scheduledTriggersListScheduledTriggers.js";
import { tool$scheduledTriggersListUpcomingScheduledRuns } from "./tools/scheduledTriggersListUpcomingScheduledRuns.js";
import { tool$scheduledTriggersRerunScheduledTriggerInvocation } from "./tools/scheduledTriggersRerunScheduledTriggerInvocation.js";
import { tool$scheduledTriggersRunScheduledTriggerNow } from "./tools/scheduledTriggersRunScheduledTriggerNow.js";
import { tool$scheduledTriggersUpdateScheduledTrigger } from "./tools/scheduledTriggersUpdateScheduledTrigger.js";
import { tool$skillsCreateSkill } from "./tools/skillsCreateSkill.js";
import { tool$skillsCreateSubagentSkill } from "./tools/skillsCreateSubagentSkill.js";
import { tool$skillsDeleteSkill } from "./tools/skillsDeleteSkill.js";
import { tool$skillsDeleteSubagentSkill } from "./tools/skillsDeleteSubagentSkill.js";
import { tool$skillsGetSkill } from "./tools/skillsGetSkill.js";
import { tool$skillsGetSkillsForSubagent } from "./tools/skillsGetSkillsForSubagent.js";
import { tool$skillsListSkills } from "./tools/skillsListSkills.js";
import { tool$skillsUpdateSkill } from "./tools/skillsUpdateSkill.js";
import { tool$subAgentsAssociateFunctionToolWithSubAgent } from "./tools/subAgentsAssociateFunctionToolWithSubAgent.js";
import { tool$subAgentsCheckFunctionToolSubAgentAssociation } from "./tools/subAgentsCheckFunctionToolSubAgentAssociation.js";
import { tool$subAgentsCreateSubagent } from "./tools/subAgentsCreateSubagent.js";
import { tool$subAgentsCreateSubAgentExternalAgentRelation } from "./tools/subAgentsCreateSubAgentExternalAgentRelation.js";
import { tool$subAgentsCreateSubAgentRelation } from "./tools/subAgentsCreateSubAgentRelation.js";
import { tool$subAgentsCreateSubAgentTeamAgentRelation } from "./tools/subAgentsCreateSubAgentTeamAgentRelation.js";
import { tool$subAgentsCreateSubagentToolRelation } from "./tools/subAgentsCreateSubagentToolRelation.js";
import { tool$subAgentsDeleteSubagent } from "./tools/subAgentsDeleteSubagent.js";
import { tool$subAgentsDeleteSubAgentExternalAgentRelation } from "./tools/subAgentsDeleteSubAgentExternalAgentRelation.js";
import { tool$subAgentsDeleteSubAgentRelation } from "./tools/subAgentsDeleteSubAgentRelation.js";
import { tool$subAgentsDeleteSubAgentTeamAgentRelation } from "./tools/subAgentsDeleteSubAgentTeamAgentRelation.js";
import { tool$subAgentsDeleteSubagentToolRelation } from "./tools/subAgentsDeleteSubagentToolRelation.js";
import { tool$subAgentsGetFunctionToolsForSubAgent } from "./tools/subAgentsGetFunctionToolsForSubAgent.js";
import { tool$subAgentsGetSubagentById } from "./tools/subAgentsGetSubagentById.js";
import { tool$subAgentsGetSubAgentExternalAgentRelationById } from "./tools/subAgentsGetSubAgentExternalAgentRelationById.js";
import { tool$subAgentsGetSubAgentRelationById } from "./tools/subAgentsGetSubAgentRelationById.js";
import { tool$subAgentsGetSubagentsForTool } from "./tools/subAgentsGetSubagentsForTool.js";
import { tool$subAgentsGetSubAgentsUsingFunctionTool } from "./tools/subAgentsGetSubAgentsUsingFunctionTool.js";
import { tool$subAgentsGetSubAgentTeamAgentRelationById } from "./tools/subAgentsGetSubAgentTeamAgentRelationById.js";
import { tool$subAgentsGetSubagentToolRelation } from "./tools/subAgentsGetSubagentToolRelation.js";
import { tool$subAgentsListSubAgentExternalAgentRelations } from "./tools/subAgentsListSubAgentExternalAgentRelations.js";
import { tool$subAgentsListSubAgentRelations } from "./tools/subAgentsListSubAgentRelations.js";
import { tool$subAgentsListSubagents } from "./tools/subAgentsListSubagents.js";
import { tool$subAgentsListSubAgentTeamAgentRelations } from "./tools/subAgentsListSubAgentTeamAgentRelations.js";
import { tool$subAgentsListSubagentToolRelations } from "./tools/subAgentsListSubagentToolRelations.js";
import { tool$subAgentsRemoveFunctionToolFromSubAgent } from "./tools/subAgentsRemoveFunctionToolFromSubAgent.js";
import { tool$subAgentsUpdateSubagent } from "./tools/subAgentsUpdateSubagent.js";
import { tool$subAgentsUpdateSubAgentExternalAgentRelation } from "./tools/subAgentsUpdateSubAgentExternalAgentRelation.js";
import { tool$subAgentsUpdateSubAgentRelation } from "./tools/subAgentsUpdateSubAgentRelation.js";
import { tool$subAgentsUpdateSubAgentTeamAgentRelation } from "./tools/subAgentsUpdateSubAgentTeamAgentRelation.js";
import { tool$subAgentsUpdateSubagentToolRelation } from "./tools/subAgentsUpdateSubagentToolRelation.js";
import { tool$thirdPartyMCPServersGetOauthRedirectUrl } from "./tools/thirdPartyMCPServersGetOauthRedirectUrl.js";
import { tool$thirdPartyMCPServersGetThirdPartyMCPServer } from "./tools/thirdPartyMCPServersGetThirdPartyMCPServer.js";
import { tool$toolsCreateTool } from "./tools/toolsCreateTool.js";
import { tool$toolsDeleteTool } from "./tools/toolsDeleteTool.js";
import { tool$toolsGetMcpToolGithubAccess } from "./tools/toolsGetMcpToolGithubAccess.js";
import { tool$toolsGetTool } from "./tools/toolsGetTool.js";
import { tool$toolsGetUserCredentialForTool } from "./tools/toolsGetUserCredentialForTool.js";
import { tool$toolsListTools } from "./tools/toolsListTools.js";
import { tool$toolsSetMcpToolGithubAccess } from "./tools/toolsSetMcpToolGithubAccess.js";
import { tool$toolsUpdateTool } from "./tools/toolsUpdateTool.js";
import { tool$triggersCreateTrigger } from "./tools/triggersCreateTrigger.js";
import { tool$triggersDeleteTrigger } from "./tools/triggersDeleteTrigger.js";
import { tool$triggersGetTriggerById } from "./tools/triggersGetTriggerById.js";
import { tool$triggersGetTriggerInvocationById } from "./tools/triggersGetTriggerInvocationById.js";
import { tool$triggersListTriggerInvocations } from "./tools/triggersListTriggerInvocations.js";
import { tool$triggersListTriggers } from "./tools/triggersListTriggers.js";
import { tool$triggersRerunTrigger } from "./tools/triggersRerunTrigger.js";
import { tool$triggersUpdateTrigger } from "./tools/triggersUpdateTrigger.js";
import { tool$userProjectMembershipsListUserProjectMemberships } from "./tools/userProjectMembershipsListUserProjectMemberships.js";
import {
  tool$webhooksPostRunTenantsTenantIdProjectsProjectIdAgentsAgentIdTriggersTriggerId,
} from "./tools/webhooksPostRunTenantsTenantIdProjectsProjectIdAgentsAgentIdTriggersTriggerId.js";
import { tool$workAppsSlackBulkDeleteChannelAgents } from "./tools/workAppsSlackBulkDeleteChannelAgents.js";
import { tool$workAppsSlackBulkSetChannelAgents } from "./tools/workAppsSlackBulkSetChannelAgents.js";
import { tool$workAppsSlackDeleteChannelSettings } from "./tools/workAppsSlackDeleteChannelSettings.js";
import { tool$workAppsSlackDeleteWorkspace } from "./tools/workAppsSlackDeleteWorkspace.js";
import { tool$workAppsSlackGetChannelSettings } from "./tools/workAppsSlackGetChannelSettings.js";
import { tool$workAppsSlackGetWorkspace } from "./tools/workAppsSlackGetWorkspace.js";
import { tool$workAppsSlackGetWorkspaceSettings } from "./tools/workAppsSlackGetWorkspaceSettings.js";
import { tool$workAppsSlackLinkStatus } from "./tools/workAppsSlackLinkStatus.js";
import { tool$workAppsSlackListChannels } from "./tools/workAppsSlackListChannels.js";
import { tool$workAppsSlackListLinkedUsers } from "./tools/workAppsSlackListLinkedUsers.js";
import { tool$workAppsSlackListWorkspaces } from "./tools/workAppsSlackListWorkspaces.js";
import { tool$workAppsSlackSetChannelSettings } from "./tools/workAppsSlackSetChannelSettings.js";
import { tool$workAppsSlackTestMessage } from "./tools/workAppsSlackTestMessage.js";
import { tool$workAppsSlackUpdateWorkspaceSettings } from "./tools/workAppsSlackUpdateWorkspaceSettings.js";
import { tool$workAppsSlackUserConnect } from "./tools/workAppsSlackUserConnect.js";
import { tool$workAppsSlackUserDisconnect } from "./tools/workAppsSlackUserDisconnect.js";
import { tool$workAppsSlackUserStatus } from "./tools/workAppsSlackUserStatus.js";
import { tool$workAppsSlackVerifyLinkToken } from "./tools/workAppsSlackVerifyLinkToken.js";
import { tool$workAppsSlackWorkspaceHealth } from "./tools/workAppsSlackWorkspaceHealth.js";
import { tool$workflowsEvaluateConversationsByJob } from "./tools/workflowsEvaluateConversationsByJob.js";
import { tool$workflowsGetApiWorkflowProcess } from "./tools/workflowsGetApiWorkflowProcess.js";
import { tool$workflowsRunDatasetItems } from "./tools/workflowsRunDatasetItems.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  dynamic?: boolean | undefined;
  scopes?: MCPScope[] | undefined;
  getSDK?: () => InkeepAgentsCore;
  serverURL?: string | undefined;
  security?: SDKOptions["security"] | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
}) {
  const server = new McpServer({
    name: "InkeepAgents",
    version: "0.1.0",
  });

  const getClient = deps.getSDK || (() =>
    new InkeepAgentsCore({
      security: deps.security,
      serverURL: deps.serverURL,
      serverIdx: deps.serverIdx,
      debugLogger: deps.logger.level === "debug"
        ? {
          log: (...args) => console.log(...args),
          group: (...args) => console.group(...args),
          groupEnd: (...args) => console.groupEnd(...args),
        }
        : undefined,
    }));

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const [tool, tools, toolMap] = createRegisterTool(
    deps.logger,
    server,
    getClient,
    scopes,
    allowedTools,
    deps.dynamic,
  );
  const resource = createRegisterResource(
    deps.logger,
    server,
    getClient,
    scopes,
  );
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    getClient,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, getClient, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$capabilities);
  tool(tool$healthHealth);
  tool(tool$healthReady);
  tool(tool$workflowsGetApiWorkflowProcess);
  tool(tool$workflowsRunDatasetItems);
  tool(tool$workflowsEvaluateConversationsByJob);
  tool(tool$cliGetManageApiCLIMe);
  tool(tool$projectsListProjects);
  tool(tool$projectsCreateProject);
  tool(tool$projectsGetProjectById);
  tool(tool$projectsDeleteProject);
  tool(tool$projectsUpdateProject);
  tool(tool$projectsGetProjectGithubAccess);
  tool(tool$projectsSetProjectGithubAccess);
  tool(tool$projectsCreateFullProject);
  tool(tool$projectsGetFullProject);
  tool(tool$projectsUpdateFullProject);
  tool(tool$projectsDeleteFullProject);
  tool(tool$projectsGetFullProjectWithRelationIds);
  tool(tool$branchesListBranches);
  tool(tool$branchesCreateBranch);
  tool(tool$branchesGetBranch);
  tool(tool$branchesDeleteBranch);
  tool(tool$branchesListBranchesForAgent);
  tool(tool$refsResolveRef);
  tool(tool$projectMembersListProjectMembers);
  tool(tool$projectMembersAddProjectMember);
  tool(tool$projectMembersRemoveProjectMember);
  tool(tool$projectMembersUpdateProjectMember);
  tool(tool$projectPermissionsGetProjectPermissions);
  tool(tool$subAgentsListSubagents);
  tool(tool$subAgentsCreateSubagent);
  tool(tool$subAgentsGetSubagentById);
  tool(tool$subAgentsUpdateSubagent);
  tool(tool$subAgentsDeleteSubagent);
  tool(tool$subAgentsListSubAgentRelations);
  tool(tool$subAgentsCreateSubAgentRelation);
  tool(tool$subAgentsGetSubAgentRelationById);
  tool(tool$subAgentsUpdateSubAgentRelation);
  tool(tool$subAgentsDeleteSubAgentRelation);
  tool(tool$subAgentsListSubAgentExternalAgentRelations);
  tool(tool$subAgentsCreateSubAgentExternalAgentRelation);
  tool(tool$subAgentsGetSubAgentExternalAgentRelationById);
  tool(tool$subAgentsUpdateSubAgentExternalAgentRelation);
  tool(tool$subAgentsDeleteSubAgentExternalAgentRelation);
  tool(tool$subAgentsListSubAgentTeamAgentRelations);
  tool(tool$subAgentsCreateSubAgentTeamAgentRelation);
  tool(tool$subAgentsGetSubAgentTeamAgentRelationById);
  tool(tool$subAgentsUpdateSubAgentTeamAgentRelation);
  tool(tool$subAgentsDeleteSubAgentTeamAgentRelation);
  tool(tool$subAgentsListSubagentToolRelations);
  tool(tool$subAgentsCreateSubagentToolRelation);
  tool(tool$subAgentsGetSubagentToolRelation);
  tool(tool$subAgentsUpdateSubagentToolRelation);
  tool(tool$subAgentsDeleteSubagentToolRelation);
  tool(tool$subAgentsGetSubagentsForTool);
  tool(tool$subAgentsGetFunctionToolsForSubAgent);
  tool(tool$subAgentsGetSubAgentsUsingFunctionTool);
  tool(tool$subAgentsAssociateFunctionToolWithSubAgent);
  tool(tool$subAgentsRemoveFunctionToolFromSubAgent);
  tool(tool$subAgentsCheckFunctionToolSubAgentAssociation);
  tool(tool$externalAgentsListExternalAgents);
  tool(tool$externalAgentsCreateExternalAgent);
  tool(tool$externalAgentsGetExternalAgentById);
  tool(tool$externalAgentsUpdateExternalAgent);
  tool(tool$externalAgentsDeleteExternalAgent);
  tool(tool$agentsListAgents);
  tool(tool$agentsCreateAgent);
  tool(tool$agentsGetAgent);
  tool(tool$agentsUpdateAgent);
  tool(tool$agentsDeleteAgent);
  tool(tool$agentsGetRelatedAgentInfos);
  tool(tool$agentsGetFullAgentDefinition);
  tool(tool$agentsGetArtifactComponentsForAgent);
  tool(tool$agentsGetAgentsUsingArtifactComponent);
  tool(tool$agentsAssociateArtifactComponentWithAgent);
  tool(tool$agentsRemoveArtifactComponentFromAgent);
  tool(tool$agentsCheckArtifactComponentAgentAssociation);
  tool(tool$agentsGetDataComponentsForAgent);
  tool(tool$agentsGetAgentsUsingDataComponent);
  tool(tool$agentsAssociateDataComponentWithAgent);
  tool(tool$agentsRemoveDataComponentFromAgent);
  tool(tool$agentsCheckDataComponentAgentAssociation);
  tool(tool$agentsCreateFullAgent);
  tool(tool$agentsGetFullAgent);
  tool(tool$agentsUpdateFullAgent);
  tool(tool$agentsDeleteFullAgent);
  tool(tool$toolsListTools);
  tool(tool$toolsCreateTool);
  tool(tool$toolsGetTool);
  tool(tool$toolsUpdateTool);
  tool(tool$toolsDeleteTool);
  tool(tool$toolsGetUserCredentialForTool);
  tool(tool$toolsGetMcpToolGithubAccess);
  tool(tool$toolsSetMcpToolGithubAccess);
  tool(tool$artifactComponentsListArtifactComponents);
  tool(tool$artifactComponentsCreateArtifactComponent);
  tool(tool$artifactComponentsGetArtifactComponentById);
  tool(tool$artifactComponentsUpdateArtifactComponent);
  tool(tool$artifactComponentsDeleteArtifactComponent);
  tool(tool$dataComponentsListDataComponents);
  tool(tool$dataComponentsCreateDataComponent);
  tool(tool$dataComponentsGetDataComponentById);
  tool(tool$dataComponentsUpdateDataComponent);
  tool(tool$dataComponentsDeleteDataComponent);
  tool(tool$functionToolsListFunctionTools);
  tool(tool$functionToolsCreateFunctionTool);
  tool(tool$functionToolsGetFunctionTool);
  tool(tool$functionToolsUpdateFunctionTool);
  tool(tool$functionToolsDeleteFunctionTool);
  tool(tool$skillsListSkills);
  tool(tool$skillsCreateSkill);
  tool(tool$skillsGetSkill);
  tool(tool$skillsUpdateSkill);
  tool(tool$skillsDeleteSkill);
  tool(tool$skillsGetSkillsForSubagent);
  tool(tool$skillsCreateSubagentSkill);
  tool(tool$skillsDeleteSubagentSkill);
  tool(tool$contextConfigsListContextConfigs);
  tool(tool$contextConfigsCreateContextConfig);
  tool(tool$contextConfigsGetContextConfigById);
  tool(tool$contextConfigsUpdateContextConfig);
  tool(tool$contextConfigsDeleteContextConfig);
  tool(tool$conversationsGetConversation);
  tool(tool$credentialsListCredentials);
  tool(tool$credentialsCreateCredential);
  tool(tool$credentialsGetCredentialById);
  tool(tool$credentialsUpdateCredential);
  tool(tool$credentialsDeleteCredential);
  tool(tool$credentialStoresListCredentialStores);
  tool(tool$credentialStoresCreateCredentialInStore);
  tool(tool$functionsListFunctions);
  tool(tool$functionsCreateFunction);
  tool(tool$functionsGetFunction);
  tool(tool$functionsUpdateFunction);
  tool(tool$functionsDeleteFunction);
  tool(tool$apiKeysListAPIKeys);
  tool(tool$apiKeysCreateAPIKey);
  tool(tool$apiKeysGetAPIKeyById);
  tool(tool$apiKeysUpdateAPIKey);
  tool(tool$apiKeysDeleteAPIKey);
  tool(tool$mcpCatalogListMCPCatalog);
  tool(tool$thirdPartyMCPServersGetThirdPartyMCPServer);
  tool(tool$thirdPartyMCPServersGetOauthRedirectUrl);
  tool(tool$triggersListTriggers);
  tool(tool$triggersCreateTrigger);
  tool(tool$triggersGetTriggerById);
  tool(tool$triggersDeleteTrigger);
  tool(tool$triggersUpdateTrigger);
  tool(tool$triggersListTriggerInvocations);
  tool(tool$triggersGetTriggerInvocationById);
  tool(tool$triggersRerunTrigger);
  tool(tool$scheduledTriggersListScheduledTriggers);
  tool(tool$scheduledTriggersCreateScheduledTrigger);
  tool(tool$scheduledTriggersListUpcomingScheduledRuns);
  tool(tool$scheduledTriggersGetScheduledTriggerById);
  tool(tool$scheduledTriggersDeleteScheduledTrigger);
  tool(tool$scheduledTriggersUpdateScheduledTrigger);
  tool(tool$scheduledTriggersListScheduledTriggerInvocations);
  tool(tool$scheduledTriggersGetScheduledTriggerInvocationById);
  tool(tool$scheduledTriggersCancelScheduledTriggerInvocation);
  tool(tool$scheduledTriggersRerunScheduledTriggerInvocation);
  tool(tool$scheduledTriggersRunScheduledTriggerNow);
  tool(tool$evaluationsListDatasetItems);
  tool(tool$evaluationsGetDatasetItem);
  tool(tool$evaluationsDeleteDatasetItem);
  tool(tool$evaluationsUpdateDatasetItem);
  tool(tool$evaluationsCreateDatasetItem);
  tool(tool$evaluationsCreateDatasetItemsBulk);
  tool(tool$evaluationsListEvaluationJobConfigs);
  tool(tool$evaluationsCreateEvaluationJobConfig);
  tool(tool$evaluationsGetEvaluationJobConfig);
  tool(tool$evaluationsDeleteEvaluationJobConfig);
  tool(tool$evaluationsGetEvaluationJobConfigResults);
  tool(tool$evaluationsListEvaluationJobConfigEvaluators);
  tool(tool$evaluationsAddEvaluatorToJobConfig);
  tool(tool$evaluationsRemoveEvaluatorFromJobConfig);
  tool(tool$evaluationsListEvaluationRunConfigs);
  tool(tool$evaluationsCreateEvaluationRunConfig);
  tool(tool$evaluationsGetEvaluationRunConfig);
  tool(tool$evaluationsDeleteEvaluationRunConfig);
  tool(tool$evaluationsUpdateEvaluationRunConfig);
  tool(tool$evaluationsGetEvaluationRunConfigResults);
  tool(tool$evaluationsListEvaluationSuiteConfigs);
  tool(tool$evaluationsCreateEvaluationSuiteConfig);
  tool(tool$evaluationsGetEvaluationSuiteConfig);
  tool(tool$evaluationsDeleteEvaluationSuiteConfig);
  tool(tool$evaluationsUpdateEvaluationSuiteConfig);
  tool(tool$evaluationsListEvaluationSuiteConfigEvaluators);
  tool(tool$evaluationsAddEvaluatorToSuiteConfig);
  tool(tool$evaluationsRemoveEvaluatorFromSuiteConfig);
  tool(tool$evaluationsListDatasets);
  tool(tool$evaluationsCreateDataset);
  tool(tool$evaluationsGetDataset);
  tool(tool$evaluationsDeleteDataset);
  tool(tool$evaluationsUpdateDataset);
  tool(tool$evaluationsListEvaluators);
  tool(tool$evaluationsCreateEvaluator);
  tool(tool$evaluationsGetEvaluator);
  tool(tool$evaluationsDeleteEvaluator);
  tool(tool$evaluationsUpdateEvaluator);
  tool(tool$evaluationsGetEvaluatorsBatch);
  tool(tool$evaluationsGetEvaluationResult);
  tool(tool$evaluationsDeleteEvaluationResult);
  tool(tool$evaluationsUpdateEvaluationResult);
  tool(tool$evaluationsCreateEvaluationResult);
  tool(tool$evaluationsEvaluateConversation);
  tool(tool$evaluationsStartConversationsEvaluations);
  tool(tool$userProjectMembershipsListUserProjectMemberships);
  tool(tool$gitHubGetGithubInstallUrl);
  tool(tool$gitHubListGithubInstallations);
  tool(tool$gitHubGetGithubInstallationDetails);
  tool(tool$gitHubDeleteGithubInstallation);
  tool(tool$gitHubDisconnectGithubInstallation);
  tool(tool$gitHubReconnectGithubInstallation);
  tool(tool$gitHubSyncGithubInstallationRepositories);
  tool(tool$oAuthInitiateOauthLoginPublic);
  tool(tool$oAuthMcpOauthCallback);
  tool(tool$oAuthSlackInstall);
  tool(tool$oAuthSlackOauthRedirect);
  tool(
    tool$webhooksPostRunTenantsTenantIdProjectsProjectIdAgentsAgentIdTriggersTriggerId,
  );
  tool(tool$workAppsSlackListWorkspaces);
  tool(tool$workAppsSlackGetWorkspace);
  tool(tool$workAppsSlackDeleteWorkspace);
  tool(tool$workAppsSlackGetWorkspaceSettings);
  tool(tool$workAppsSlackUpdateWorkspaceSettings);
  tool(tool$workAppsSlackListChannels);
  tool(tool$workAppsSlackGetChannelSettings);
  tool(tool$workAppsSlackSetChannelSettings);
  tool(tool$workAppsSlackDeleteChannelSettings);
  tool(tool$workAppsSlackBulkSetChannelAgents);
  tool(tool$workAppsSlackBulkDeleteChannelAgents);
  tool(tool$workAppsSlackListLinkedUsers);
  tool(tool$workAppsSlackWorkspaceHealth);
  tool(tool$workAppsSlackTestMessage);
  tool(tool$workAppsSlackLinkStatus);
  tool(tool$workAppsSlackVerifyLinkToken);
  tool(tool$workAppsSlackUserConnect);
  tool(tool$workAppsSlackUserDisconnect);
  tool(tool$workAppsSlackUserStatus);

  if (deps.dynamic) {
    registerDynamicTools(deps.logger, server, getClient, toolMap, scopes);
  }

  return { server, tools };
}
