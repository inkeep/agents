/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 04c06412c7a3
 */

import * as z from "zod";
import { ClosedEnum } from "../types/enums.js";
import { BadRequest, BadRequest$zodSchema } from "./badrequest.js";
import { Forbidden, Forbidden$zodSchema } from "./forbidden.js";
import {
  InternalServerError,
  InternalServerError$zodSchema,
} from "./internalservererror.js";
import { Unauthorized, Unauthorized$zodSchema } from "./unauthorized.js";
import {
  UnprocessableEntity,
  UnprocessableEntity$zodSchema,
} from "./unprocessableentity.js";

export type ReconnectGithubInstallationRequest = {
  tenantId: string;
  installationId: string;
};

export const ReconnectGithubInstallationRequest$zodSchema: z.ZodType<
  ReconnectGithubInstallationRequest
> = z.object({
  installationId: z.string().describe("The internal installation ID"),
  tenantId: z.string().describe("Tenant identifier"),
});

export const ReconnectGithubInstallationCode1 = {
  ServiceUnavailable: "service_unavailable",
} as const;
export type ReconnectGithubInstallationCode1 = ClosedEnum<
  typeof ReconnectGithubInstallationCode1
>;

export const ReconnectGithubInstallationCode1$zodSchema = z.enum([
  "service_unavailable",
]);

export const ReconnectGithubInstallationCode2 = {
  ServiceUnavailable: "service_unavailable",
} as const;
export type ReconnectGithubInstallationCode2 = ClosedEnum<
  typeof ReconnectGithubInstallationCode2
>;

export const ReconnectGithubInstallationCode2$zodSchema = z.enum([
  "service_unavailable",
]);

export type ReconnectGithubInstallationError = {
  code: ReconnectGithubInstallationCode2;
  message: string;
};

export const ReconnectGithubInstallationError$zodSchema: z.ZodType<
  ReconnectGithubInstallationError
> = z.object({
  code: ReconnectGithubInstallationCode2$zodSchema,
  message: z.string(),
});

/**
 * Service Unavailable - GitHub API is not accessible
 */
export type ReconnectGithubInstallationServiceUnavailableResponseBody = {
  title: string;
  status: number;
  detail: string;
  code: ReconnectGithubInstallationCode1;
  error: ReconnectGithubInstallationError;
};

export const ReconnectGithubInstallationServiceUnavailableResponseBody$zodSchema:
  z.ZodType<ReconnectGithubInstallationServiceUnavailableResponseBody> = z
    .object({
      code: ReconnectGithubInstallationCode1$zodSchema,
      detail: z.string(),
      error: z.lazy(() => ReconnectGithubInstallationError$zodSchema),
      status: z.number(),
      title: z.string(),
    }).describe("Service Unavailable - GitHub API is not accessible");

/**
 * Repository sync results (if sync was performed)
 */
export type ReconnectGithubInstallationSyncResult = {
  added: number;
  removed: number;
  updated: number;
};

export const ReconnectGithubInstallationSyncResult$zodSchema: z.ZodType<
  ReconnectGithubInstallationSyncResult
> = z.object({
  added: z.number(),
  removed: z.number(),
  updated: z.number(),
}).describe("Repository sync results (if sync was performed)");

/**
 * Installation reconnected successfully
 */
export type ReconnectGithubInstallationResponseBody = {
  success: boolean;
  syncResult?: ReconnectGithubInstallationSyncResult | undefined;
};

export const ReconnectGithubInstallationResponseBody$zodSchema: z.ZodType<
  ReconnectGithubInstallationResponseBody
> = z.object({
  success: z.boolean(),
  syncResult: z.lazy(() => ReconnectGithubInstallationSyncResult$zodSchema)
    .optional(),
}).describe("Installation reconnected successfully");

export type ReconnectGithubInstallationResponse = {
  ContentType: string;
  StatusCode: number;
  RawResponse: Response;
  twoHundredApplicationJsonObject?:
    | ReconnectGithubInstallationResponseBody
    | undefined;
  BadRequest?: BadRequest | undefined;
  Unauthorized?: Unauthorized | undefined;
  Forbidden?: Forbidden | undefined;
  UnprocessableEntity?: UnprocessableEntity | undefined;
  InternalServerError?: InternalServerError | undefined;
  fiveHundredAndThreeApplicationProblemPlusJsonObject?:
    | ReconnectGithubInstallationServiceUnavailableResponseBody
    | undefined;
};

export const ReconnectGithubInstallationResponse$zodSchema: z.ZodType<
  ReconnectGithubInstallationResponse
> = z.object({
  BadRequest: BadRequest$zodSchema.optional(),
  ContentType: z.string(),
  Forbidden: Forbidden$zodSchema.optional(),
  InternalServerError: InternalServerError$zodSchema.optional(),
  RawResponse: z.custom<Response>(x => x instanceof Response),
  StatusCode: z.int(),
  Unauthorized: Unauthorized$zodSchema.optional(),
  UnprocessableEntity: UnprocessableEntity$zodSchema.optional(),
  fiveHundredAndThreeApplicationProblemPlusJsonObject: z.lazy(() =>
    ReconnectGithubInstallationServiceUnavailableResponseBody$zodSchema
  ).optional(),
  twoHundredApplicationJsonObject: z.lazy(() =>
    ReconnectGithubInstallationResponseBody$zodSchema
  ).optional(),
});
