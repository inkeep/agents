{
  "openapi": "3.0.0",
  "info": {
    "title": "Inkeep Agents Manage API",
    "version": "1.0.0",
    "description": "REST API for the management of the Inkeep Agent Framework."
  },
  "servers": [{ "url": "http://localhost:3002", "description": "Development server" }],
  "components": {
    "schemas": {
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "A short, human-readable summary of the problem type.",
            "example": "Resource Not Found"
          },
          "status": { "type": "integer", "description": "The HTTP status code.", "example": 404 },
          "detail": {
            "type": "string",
            "description": "A human-readable explanation specific to this occurrence of the problem.",
            "example": "The requested resource was not found."
          },
          "instance": {
            "type": "string",
            "description": "A URI reference that identifies the specific occurrence of the problem.",
            "example": "/conversations/123"
          },
          "requestId": {
            "type": "string",
            "description": "A unique identifier for the request, useful for troubleshooting.",
            "example": "req_1234567890"
          },
          "code": {
            "type": "string",
            "enum": [
              "bad_request",
              "unauthorized",
              "forbidden",
              "not_found",
              "conflict",
              "internal_server_error",
              "unprocessable_entity"
            ],
            "description": "A short code indicating the error code returned.",
            "example": "not_found"
          }
        },
        "required": ["title", "status", "detail", "code"]
      },
      "BadRequest": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Bad Request"
              },
              "status": {
                "type": "number",
                "enum": [400],
                "description": "The HTTP status code.",
                "example": 400
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Bad Request"
              },
              "code": {
                "type": "string",
                "enum": ["bad_request"],
                "description": "A short code indicating the error code returned.",
                "example": "bad_request"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["bad_request"],
                    "description": "A short code indicating the error code returned.",
                    "example": "bad_request"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Bad Request"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      },
      "Unauthorized": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Unauthorized"
              },
              "status": {
                "type": "number",
                "enum": [401],
                "description": "The HTTP status code.",
                "example": 401
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Unauthorized"
              },
              "code": {
                "type": "string",
                "enum": ["unauthorized"],
                "description": "A short code indicating the error code returned.",
                "example": "unauthorized"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["unauthorized"],
                    "description": "A short code indicating the error code returned.",
                    "example": "unauthorized"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Unauthorized"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      },
      "Forbidden": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Forbidden"
              },
              "status": {
                "type": "number",
                "enum": [403],
                "description": "The HTTP status code.",
                "example": 403
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Forbidden"
              },
              "code": {
                "type": "string",
                "enum": ["forbidden"],
                "description": "A short code indicating the error code returned.",
                "example": "forbidden"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["forbidden"],
                    "description": "A short code indicating the error code returned.",
                    "example": "forbidden"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Forbidden"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      },
      "NotFound": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Not Found"
              },
              "status": {
                "type": "number",
                "enum": [404],
                "description": "The HTTP status code.",
                "example": 404
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Not Found"
              },
              "code": {
                "type": "string",
                "enum": ["not_found"],
                "description": "A short code indicating the error code returned.",
                "example": "not_found"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["not_found"],
                    "description": "A short code indicating the error code returned.",
                    "example": "not_found"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Not Found"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      },
      "UnprocessableEntity": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Unprocessable Entity"
              },
              "status": {
                "type": "number",
                "enum": [422],
                "description": "The HTTP status code.",
                "example": 422
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Unprocessable Entity"
              },
              "code": {
                "type": "string",
                "enum": ["unprocessable_entity"],
                "description": "A short code indicating the error code returned.",
                "example": "unprocessable_entity"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["unprocessable_entity"],
                    "description": "A short code indicating the error code returned.",
                    "example": "unprocessable_entity"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Unprocessable Entity"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      },
      "InternalServerError": {
        "allOf": [
          { "$ref": "#/components/schemas/ProblemDetails" },
          {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "A short, human-readable summary of the problem type.",
                "example": "Internal Server Error"
              },
              "status": {
                "type": "number",
                "enum": [500],
                "description": "The HTTP status code.",
                "example": 500
              },
              "detail": {
                "type": "string",
                "description": "A detailed explanation specific to this occurrence of the problem, providing context and specifics about what went wrong.",
                "example": "Internal Server Error"
              },
              "code": {
                "type": "string",
                "enum": ["internal_server_error"],
                "description": "A short code indicating the error code returned.",
                "example": "internal_server_error"
              },
              "error": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "enum": ["internal_server_error"],
                    "description": "A short code indicating the error code returned.",
                    "example": "internal_server_error"
                  },
                  "message": {
                    "type": "string",
                    "description": "A concise error message suitable for display to end users. May be truncated if the full detail is long.",
                    "example": "Internal Server Error"
                  }
                },
                "required": ["code", "message"],
                "description": "Legacy error format for backward compatibility."
              }
            },
            "required": ["error"]
          }
        ]
      }
    },
    "parameters": {}
  },
  "paths": {
    "/health": {
      "get": {
        "tags": ["health"],
        "summary": "Health check",
        "description": "Check if the management service is healthy",
        "responses": { "204": { "description": "Service is healthy" } }
      }
    },
    "/tenants/{tenantId}/projects": {
      "get": {
        "summary": "List Projects",
        "description": "List all projects within a tenant with pagination",
        "operationId": "list-projects",
        "tags": ["Projects"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of projects retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "models": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "stopWhen": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "sandboxConfig": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "name",
                          "description",
                          "models",
                          "stopWhen",
                          "sandboxConfig",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Project",
        "description": "Create a new project",
        "operationId": "create-project",
        "tags": ["Projects"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    },
                    "required": ["base"]
                  },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                      "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                    }
                  },
                  "sandboxConfig": {
                    "type": "object",
                    "properties": {
                      "provider": { "type": "string", "enum": ["vercel", "local"] },
                      "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                      "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                      "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                    },
                    "required": ["provider", "runtime"]
                  }
                },
                "required": ["id", "name", "description", "models"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Project created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "sandboxConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "models",
                        "stopWhen",
                        "sandboxConfig",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Project already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{id}": {
      "get": {
        "summary": "Get Project",
        "description": "Get a single project by ID",
        "operationId": "get-project-by-id",
        "tags": ["Projects"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Project found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "sandboxConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "models",
                        "stopWhen",
                        "sandboxConfig",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update Project",
        "description": "Update an existing project",
        "operationId": "update-project",
        "tags": ["Projects"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    },
                    "required": ["base"]
                  },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                      "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                    }
                  },
                  "sandboxConfig": {
                    "type": "object",
                    "properties": {
                      "provider": { "type": "string", "enum": ["vercel", "local"] },
                      "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                      "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                      "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                    },
                    "required": ["provider", "runtime"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Project updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "sandboxConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "models",
                        "stopWhen",
                        "sandboxConfig",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Project",
        "description": "Delete a project. Will fail if the project has existing resources.",
        "operationId": "delete-project",
        "tags": ["Projects"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Project deleted successfully" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Cannot delete project with existing resources",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agents": {
      "get": {
        "summary": "List SubAgents",
        "operationId": "list-subagents",
        "tags": ["SubAgent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of subAgents retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "prompt": { "type": "string" },
                          "conversationHistoryConfig": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "models": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "stopWhen": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "name",
                          "description",
                          "prompt",
                          "conversationHistoryConfig",
                          "models",
                          "stopWhen",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create SubAgent",
        "operationId": "create-subagent",
        "tags": ["SubAgent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "prompt": { "type": "string" },
                  "conversationHistoryConfig": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    }
                  },
                  "stopWhen": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "description", "prompt"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "SubAgent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "prompt": { "type": "string" },
                        "conversationHistoryConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "prompt",
                        "conversationHistoryConfig",
                        "models",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agents/{id}": {
      "get": {
        "summary": "Get SubAgent",
        "operationId": "get-subagent-by-id",
        "tags": ["SubAgent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "SubAgent found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "prompt": { "type": "string" },
                        "conversationHistoryConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "prompt",
                        "conversationHistoryConfig",
                        "models",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update SubAgent",
        "operationId": "update-subagent",
        "tags": ["SubAgent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "prompt": { "type": "string" },
                  "conversationHistoryConfig": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    }
                  },
                  "stopWhen": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "SubAgent updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "prompt": { "type": "string" },
                        "conversationHistoryConfig": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "prompt",
                        "conversationHistoryConfig",
                        "models",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete SubAgent",
        "operationId": "delete-subagent",
        "tags": ["SubAgent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "SubAgent deleted successfully" },
          "404": {
            "description": "SubAgent not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-relations": {
      "get": {
        "summary": "List Agent Relations",
        "operationId": "list-agent-relations",
        "tags": ["Agent Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": { "type": "string" },
            "required": false,
            "name": "sourceSubAgentId",
            "in": "query"
          },
          {
            "schema": { "type": "string" },
            "required": false,
            "name": "targetSubAgentId",
            "in": "query"
          },
          {
            "schema": { "type": "string" },
            "required": false,
            "name": "externalSubAgentId",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of agent relations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "sourceSubAgentId": { "type": "string" },
                          "targetSubAgentId": { "type": "string", "nullable": true },
                          "externalSubAgentId": { "type": "string", "nullable": true },
                          "relationType": { "type": "string", "nullable": true },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "sourceSubAgentId",
                          "targetSubAgentId",
                          "externalSubAgentId",
                          "relationType",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Agent Relation",
        "operationId": "create-agent-relation",
        "tags": ["Agent Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "sourceSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "targetSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "externalSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "relationType": { "type": "string", "enum": ["transfer", "delegate"] },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "sourceSubAgentId", "relationType"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Agent relation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "sourceSubAgentId": { "type": "string" },
                        "targetSubAgentId": { "type": "string", "nullable": true },
                        "externalSubAgentId": { "type": "string", "nullable": true },
                        "relationType": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "sourceSubAgentId",
                        "targetSubAgentId",
                        "externalSubAgentId",
                        "relationType",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-relations/{id}": {
      "get": {
        "summary": "Get Agent Relation",
        "operationId": "get-agent-relation-by-id",
        "tags": ["Agent Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Agent relation found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "sourceSubAgentId": { "type": "string" },
                        "targetSubAgentId": { "type": "string", "nullable": true },
                        "externalSubAgentId": { "type": "string", "nullable": true },
                        "relationType": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "sourceSubAgentId",
                        "targetSubAgentId",
                        "externalSubAgentId",
                        "relationType",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Agent Relation",
        "operationId": "update-agent-relation",
        "tags": ["Agent Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "sourceSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "targetSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "externalSubAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "relationType": { "type": "string", "enum": ["transfer", "delegate"] },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Agent relation updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "sourceSubAgentId": { "type": "string" },
                        "targetSubAgentId": { "type": "string", "nullable": true },
                        "externalSubAgentId": { "type": "string", "nullable": true },
                        "relationType": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "sourceSubAgentId",
                        "targetSubAgentId",
                        "externalSubAgentId",
                        "relationType",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Agent Relation",
        "operationId": "delete-agent-relation",
        "tags": ["Agent Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Agent relation deleted successfully" },
          "404": {
            "description": "Agent relation not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents": {
      "get": {
        "summary": "List Agent Agent",
        "operationId": "list-agent-agent",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of agent agent retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string", "nullable": true },
                          "defaultSubAgentId": { "type": "string", "nullable": true },
                          "contextConfigId": { "type": "string", "nullable": true },
                          "models": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "statusUpdates": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "prompt": { "type": "string", "nullable": true },
                          "stopWhen": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "name",
                          "description",
                          "defaultSubAgentId",
                          "contextConfigId",
                          "models",
                          "statusUpdates",
                          "prompt",
                          "stopWhen",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Agent Agent",
        "operationId": "create-agent-agent",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "defaultSubAgentId": { "type": "string", "nullable": true },
                  "contextConfigId": { "type": "string", "nullable": true },
                  "models": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "statusUpdates": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "prompt": { "type": "string", "nullable": true },
                  "stopWhen": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Agent agent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "statusUpdates": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "prompt": { "type": "string", "nullable": true },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "defaultSubAgentId",
                        "contextConfigId",
                        "models",
                        "statusUpdates",
                        "prompt",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{id}": {
      "get": {
        "summary": "Get Agent Agent",
        "operationId": "get-agent-agent",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Agent agent found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "statusUpdates": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "prompt": { "type": "string", "nullable": true },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "defaultSubAgentId",
                        "contextConfigId",
                        "models",
                        "statusUpdates",
                        "prompt",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Agent Agent",
        "operationId": "update-agent-agent",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "defaultSubAgentId": { "type": "string", "nullable": true },
                  "contextConfigId": { "type": "string", "nullable": true },
                  "models": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "statusUpdates": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "prompt": { "type": "string", "nullable": true },
                  "stopWhen": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Agent agent updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "statusUpdates": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "prompt": { "type": "string", "nullable": true },
                        "stopWhen": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "name",
                        "description",
                        "defaultSubAgentId",
                        "contextConfigId",
                        "models",
                        "statusUpdates",
                        "prompt",
                        "stopWhen",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Agent Agent",
        "operationId": "delete-agent-agent",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Agent agent deleted successfully" },
          "404": {
            "description": "Agent agent not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agents/{subAgentId}/related": {
      "get": {
        "summary": "Get Related Agent Infos",
        "operationId": "get-related-agent-infos",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "agentId", "in": "path" },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" }
        ],
        "responses": {
          "200": {
            "description": "Related agent infos retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" }
                        },
                        "required": ["id", "name", "description"]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/full": {
      "get": {
        "summary": "Get Full Agent Definition",
        "operationId": "get-full-agent-definition",
        "tags": ["Agent Agent"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Full agent definition retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-tool-relations": {
      "get": {
        "summary": "List SubAgent Tool Relations",
        "operationId": "list-subagent-tool-relations",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": { "type": "string" },
            "required": false,
            "name": "subAgentId",
            "in": "query"
          },
          { "schema": { "type": "string" }, "required": false, "name": "toolId", "in": "query" }
        ],
        "responses": {
          "200": {
            "description": "List of subAgent tool relations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "subAgentId": { "type": "string" },
                          "toolId": { "type": "string" },
                          "selectedTools": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "headers": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "subAgentId",
                          "toolId",
                          "selectedTools",
                          "headers",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create SubAgent Tool Relation",
        "operationId": "create-subagent-tool-relation",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "subAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "toolId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "selectedTools": {
                    "type": "array",
                    "nullable": true,
                    "items": { "type": "string" }
                  },
                  "headers": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": { "type": "string" }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "subAgentId", "toolId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "SubAgent tool relation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "subAgentId": { "type": "string" },
                        "toolId": { "type": "string" },
                        "selectedTools": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "subAgentId",
                        "toolId",
                        "selectedTools",
                        "headers",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-tool-relations/{id}": {
      "get": {
        "summary": "Get SubAgent Tool Relation",
        "operationId": "get-subagent-tool-relation",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "SubAgent tool relation found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "subAgentId": { "type": "string" },
                        "toolId": { "type": "string" },
                        "selectedTools": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "subAgentId",
                        "toolId",
                        "selectedTools",
                        "headers",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update SubAgent Tool Relation",
        "operationId": "update-subagent-tool-relation",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "subAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "toolId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "selectedTools": {
                    "type": "array",
                    "nullable": true,
                    "items": { "type": "string" }
                  },
                  "headers": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": { "type": "string" }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "SubAgent tool relation updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "subAgentId": { "type": "string" },
                        "toolId": { "type": "string" },
                        "selectedTools": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "subAgentId",
                        "toolId",
                        "selectedTools",
                        "headers",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete SubAgent Tool Relation",
        "operationId": "delete-subagent-tool-relation",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "SubAgent tool relation deleted successfully" },
          "404": {
            "description": "SubAgent tool relation not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-tool-relations/tool/{toolId}/sub-agents": {
      "get": {
        "summary": "Get SubAgents for Tool",
        "operationId": "get-subagents-for-tool",
        "tags": ["SubAgent Tool Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "toolId", "in": "path" },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "SubAgents for tool retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "subAgentId": { "type": "string" },
                          "toolId": { "type": "string" },
                          "selectedTools": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "headers": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "subAgentId",
                          "toolId",
                          "selectedTools",
                          "headers",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-artifact-components/agent/:subAgentId": {
      "get": {
        "summary": "Get Artifact Components for Agent",
        "operationId": "get-artifact-components-for-agent",
        "tags": ["Agent Artifact Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" }
        ],
        "responses": {
          "200": {
            "description": "Artifact components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "props": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                      }
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-artifact-components/component/:artifactComponentId/agents": {
      "get": {
        "summary": "Get Agents Using Artifact Component",
        "operationId": "get-agents-using-artifact-component",
        "tags": ["Agent Artifact Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "artifactComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Agents retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "subAgentId": { "type": "string" },
                          "createdAt": { "type": "string" }
                        },
                        "required": ["subAgentId", "createdAt"]
                      }
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-artifact-components": {
      "post": {
        "summary": "Associate Artifact Component with Agent",
        "operationId": "associate-artifact-component-with-agent",
        "tags": ["Agent Artifact Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": { "type": "string" },
                  "subAgentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "artifactComponentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  }
                },
                "required": ["agentId", "subAgentId", "artifactComponentId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Agent artifact component association created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "subAgentId": { "type": "string" },
                        "artifactComponentId": { "type": "string" },
                        "createdAt": { "type": "string" }
                      },
                      "required": ["id", "subAgentId", "artifactComponentId", "createdAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Association already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-artifact-components/agent/:subAgentId/component/:artifactComponentId": {
      "delete": {
        "summary": "Remove Artifact Component from Agent",
        "operationId": "remove-artifact-component-from-agent",
        "tags": ["Agent Artifact Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "artifactComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Association removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": { "type": "string" },
                    "removed": { "type": "boolean" }
                  },
                  "required": ["message", "removed"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-artifact-components/agent/:subAgentId/component/:artifactComponentId/exists": {
      "get": {
        "summary": "Check if Artifact Component is Associated with Agent",
        "operationId": "check-artifact-component-agent-association",
        "tags": ["Agent Artifact Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "artifactComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Association status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "exists": { "type": "boolean" } },
                  "required": ["exists"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-data-components/agent/:subAgentId": {
      "get": {
        "summary": "Get Data Components for Agent",
        "operationId": "get-data-components-for-agent",
        "tags": ["Agent Data Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" }
        ],
        "responses": {
          "200": {
            "description": "Data components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "props": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                      }
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-data-components/component/:dataComponentId/agents": {
      "get": {
        "summary": "Get Agents Using Data Component",
        "operationId": "get-agents-using-data-component",
        "tags": ["Agent Data Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "dataComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Agents retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "subAgentId": { "type": "string" },
                          "createdAt": { "type": "string" }
                        },
                        "required": ["subAgentId", "createdAt"]
                      }
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-data-components": {
      "post": {
        "summary": "Associate Data Component with Agent",
        "operationId": "associate-data-component-with-agent",
        "tags": ["Agent Data Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": { "type": "string" },
                  "subAgentId": { "type": "string" },
                  "dataComponentId": { "type": "string" }
                },
                "required": ["agentId", "subAgentId", "dataComponentId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Agent data component association created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "subAgentId": { "type": "string" },
                        "dataComponentId": { "type": "string" },
                        "createdAt": { "type": "string" }
                      },
                      "required": ["id", "subAgentId", "dataComponentId", "createdAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Association already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-data-components/agent/:subAgentId/component/:dataComponentId": {
      "delete": {
        "summary": "Remove Data Component from Agent",
        "operationId": "remove-data-component-from-agent",
        "tags": ["Agent Data Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "dataComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Association removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": { "type": "string" },
                    "removed": { "type": "boolean" }
                  },
                  "required": ["message", "removed"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/sub-agent-data-components/agent/:subAgentId/component/:dataComponentId/exists": {
      "get": {
        "summary": "Check if Data Component is Associated with Agent",
        "operationId": "check-data-component-agent-association",
        "tags": ["Agent Data Component Relations"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "subAgentId", "in": "path" },
          {
            "schema": { "type": "string" },
            "required": true,
            "name": "dataComponentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Association status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "exists": { "type": "boolean" } },
                  "required": ["exists"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/artifact-components": {
      "get": {
        "summary": "List Artifact Components",
        "operationId": "list-artifact-components",
        "tags": ["Artifact Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of artifact components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "props": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Artifact Component",
        "operationId": "create-artifact-component",
        "tags": ["Artifact Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "props": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  }
                },
                "required": ["id", "name", "description"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Artifact component created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/artifact-components/{id}": {
      "get": {
        "summary": "Get Artifact Component",
        "operationId": "get-artifact-component-by-id",
        "tags": ["Artifact Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Artifact component found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Artifact Component",
        "operationId": "update-artifact-component",
        "tags": ["Artifact Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "props": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Artifact component updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Artifact Component",
        "operationId": "delete-artifact-component",
        "tags": ["Artifact Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Artifact component deleted successfully" },
          "404": {
            "description": "Artifact component not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/context-configs": {
      "get": {
        "summary": "List Context Configurations",
        "operationId": "list-context-configs",
        "tags": ["Context Config"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of context configurations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "headersSchema": {
                            "type": "object",
                            "description": "JSON Schema for validating request headers"
                          },
                          "contextVariables": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": ["id", "contextVariables", "createdAt", "updatedAt"]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Context Configuration",
        "operationId": "create-context-config",
        "tags": ["Context Config"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "headersSchema": {
                    "type": "object",
                    "description": "JSON Schema for validating request headers"
                  },
                  "contextVariables": {
                    "type": "object",
                    "description": "Context variables configuration with fetch definitions"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Context configuration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "headersSchema": {
                          "type": "object",
                          "description": "JSON Schema for validating request headers"
                        },
                        "contextVariables": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "contextVariables", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/context-configs/{id}": {
      "get": {
        "summary": "Get Context Configuration",
        "operationId": "get-context-config-by-id",
        "tags": ["Context Config"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Context configuration found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "headersSchema": {
                          "type": "object",
                          "description": "JSON Schema for validating request headers"
                        },
                        "contextVariables": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "contextVariables", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Context Configuration",
        "operationId": "update-context-config",
        "tags": ["Context Config"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "headersSchema": {
                    "type": "object",
                    "description": "JSON Schema for validating request headers"
                  },
                  "contextVariables": {
                    "type": "object",
                    "description": "Context variables configuration with fetch definitions"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Context configuration updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "headersSchema": {
                          "type": "object",
                          "description": "JSON Schema for validating request headers"
                        },
                        "contextVariables": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "contextVariables", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Context Configuration",
        "operationId": "delete-context-config",
        "tags": ["Context Config"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Context configuration deleted successfully" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/credentials": {
      "get": {
        "summary": "List Credentials",
        "operationId": "list-credentials",
        "tags": ["Credential"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of credentials retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                          "credentialStoreId": { "type": "string" },
                          "retrievalParams": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": { "nullable": true }
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" },
                          "tools": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "tenantId": { "type": "string" },
                                "id": { "type": "string" },
                                "projectId": { "type": "string" },
                                "name": { "type": "string" },
                                "description": { "type": "string", "nullable": true },
                                "config": {
                                  "anyOf": [
                                    { "type": "string" },
                                    { "type": "number" },
                                    { "type": "boolean" },
                                    { "nullable": true },
                                    {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    { "type": "array", "items": { "nullable": true } },
                                    { "nullable": true }
                                  ]
                                },
                                "credentialReferenceId": { "type": "string", "nullable": true },
                                "headers": {
                                  "anyOf": [
                                    { "type": "string" },
                                    { "type": "number" },
                                    { "type": "boolean" },
                                    { "nullable": true },
                                    {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    { "type": "array", "items": { "nullable": true } },
                                    { "nullable": true }
                                  ]
                                },
                                "imageUrl": { "type": "string", "nullable": true },
                                "capabilities": {
                                  "anyOf": [
                                    { "type": "string" },
                                    { "type": "number" },
                                    { "type": "boolean" },
                                    { "nullable": true },
                                    {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    { "type": "array", "items": { "nullable": true } },
                                    { "nullable": true }
                                  ]
                                },
                                "lastError": { "type": "string", "nullable": true },
                                "createdAt": { "type": "string" },
                                "updatedAt": { "type": "string" }
                              },
                              "required": [
                                "tenantId",
                                "id",
                                "projectId",
                                "name",
                                "description",
                                "config",
                                "credentialReferenceId",
                                "headers",
                                "imageUrl",
                                "capabilities",
                                "lastError",
                                "createdAt",
                                "updatedAt"
                              ]
                            }
                          }
                        },
                        "required": ["id", "type", "credentialStoreId", "createdAt", "updatedAt"]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Credential",
        "operationId": "create-credential",
        "tags": ["Credential"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                  "credentialStoreId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "retrievalParams": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": { "nullable": true }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "type", "credentialStoreId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Credential created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                        "credentialStoreId": { "type": "string" },
                        "retrievalParams": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "nullable": true }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "tools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "tenantId": { "type": "string" },
                              "id": { "type": "string" },
                              "projectId": { "type": "string" },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string", "nullable": true },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": [
                              "tenantId",
                              "id",
                              "projectId",
                              "name",
                              "description",
                              "config",
                              "credentialReferenceId",
                              "headers",
                              "imageUrl",
                              "capabilities",
                              "lastError",
                              "createdAt",
                              "updatedAt"
                            ]
                          }
                        }
                      },
                      "required": ["id", "type", "credentialStoreId", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/credentials/{id}": {
      "get": {
        "summary": "Get Credential",
        "operationId": "get-credential-by-id",
        "tags": ["Credential"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Credential found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                        "credentialStoreId": { "type": "string" },
                        "retrievalParams": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "nullable": true }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "tools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "tenantId": { "type": "string" },
                              "id": { "type": "string" },
                              "projectId": { "type": "string" },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string", "nullable": true },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": [
                              "tenantId",
                              "id",
                              "projectId",
                              "name",
                              "description",
                              "config",
                              "credentialReferenceId",
                              "headers",
                              "imageUrl",
                              "capabilities",
                              "lastError",
                              "createdAt",
                              "updatedAt"
                            ]
                          }
                        }
                      },
                      "required": ["id", "type", "credentialStoreId", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Credential",
        "operationId": "update-credential",
        "tags": ["Credential"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                  "credentialStoreId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "retrievalParams": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": { "nullable": true }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Credential updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                        "credentialStoreId": { "type": "string" },
                        "retrievalParams": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "nullable": true }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "tools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "tenantId": { "type": "string" },
                              "id": { "type": "string" },
                              "projectId": { "type": "string" },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string", "nullable": true },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": [
                              "tenantId",
                              "id",
                              "projectId",
                              "name",
                              "description",
                              "config",
                              "credentialReferenceId",
                              "headers",
                              "imageUrl",
                              "capabilities",
                              "lastError",
                              "createdAt",
                              "updatedAt"
                            ]
                          }
                        }
                      },
                      "required": ["id", "type", "credentialStoreId", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Credential",
        "operationId": "delete-credential",
        "tags": ["Credential"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Credential deleted successfully" },
          "404": {
            "description": "Credential not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/data-components": {
      "get": {
        "summary": "List Data Components",
        "operationId": "list-data-components",
        "tags": ["Data Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of data components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "props": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Data Component",
        "operationId": "create-data-component",
        "tags": ["Data Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "props": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "description"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Data component created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/data-components/{id}": {
      "get": {
        "summary": "Get Data Component",
        "operationId": "get-data-component-by-id",
        "tags": ["Data Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Data component found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Data Component",
        "operationId": "update-data-component",
        "tags": ["Data Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "props": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Data component updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "props", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Data Component",
        "operationId": "delete-data-component",
        "tags": ["Data Component"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Data component deleted successfully" },
          "404": {
            "description": "Data component not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/external-agents": {
      "get": {
        "summary": "List External Agents",
        "operationId": "list-external-agents",
        "tags": ["External Agents"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of external agents retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" },
                          "baseUrl": { "type": "string" },
                          "credentialReferenceId": { "type": "string", "nullable": true },
                          "headers": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": { "type": "string" }
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "name",
                          "description",
                          "baseUrl",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create External Agent",
        "operationId": "create-external-agent",
        "tags": ["External Agents"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "baseUrl": { "type": "string" },
                  "credentialReferenceId": { "type": "string", "nullable": true },
                  "headers": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "description", "baseUrl"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "External agent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "baseUrl": { "type": "string" },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "type": "string" }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "baseUrl", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/external-agents/{id}": {
      "get": {
        "summary": "Get External Agent",
        "operationId": "get-external-agent-by-id",
        "tags": ["External Agents"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "External agent found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "baseUrl": { "type": "string" },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "type": "string" }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "baseUrl", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update External Agent",
        "operationId": "update-external-agent",
        "tags": ["External Agents"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "baseUrl": { "type": "string" },
                  "credentialReferenceId": { "type": "string", "nullable": true },
                  "headers": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "External agent updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "baseUrl": { "type": "string" },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "type": "string" }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "baseUrl", "createdAt", "updatedAt"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete External Agent",
        "operationId": "delete-external-agent",
        "tags": ["External Agents"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "External agent deleted successfully" },
          "404": {
            "description": "External agent not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/function-tools": {
      "get": {
        "summary": "List Function Tools",
        "operationId": "list-function-tools",
        "tags": ["Function Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of function tools retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "agentId": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string", "nullable": true },
                          "functionId": { "type": "string" },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "agentId",
                          "name",
                          "description",
                          "functionId",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Function Tool",
        "operationId": "create-function-tool",
        "tags": ["Function Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "functionId": { "type": "string" },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "functionId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Function tool created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "agentId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "functionId": { "type": "string" },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "agentId",
                        "name",
                        "description",
                        "functionId",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agents/{agentId}/function-tools/:id": {
      "get": {
        "summary": "Get Function Tool by ID",
        "operationId": "get-function-tool",
        "tags": ["Function Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "id", "in": "path" }
        ],
        "responses": {
          "200": {
            "description": "Function tool retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "agentId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "functionId": { "type": "string" },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "agentId",
                        "name",
                        "description",
                        "functionId",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Function Tool",
        "operationId": "update-function-tool",
        "tags": ["Function Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "id", "in": "path" }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "agentId": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "functionId": { "type": "string" },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Function tool updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "agentId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "functionId": { "type": "string" },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "agentId",
                        "name",
                        "description",
                        "functionId",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Function Tool",
        "operationId": "delete-function-tool",
        "tags": ["Function Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          },
          { "schema": { "type": "string" }, "required": true, "name": "id", "in": "path" }
        ],
        "responses": {
          "204": { "description": "Function tool deleted successfully" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/functions": {
      "get": {
        "summary": "List Functions",
        "operationId": "list-functions",
        "tags": ["Functions"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of functions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "inputSchema": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "executeCode": { "type": "string" },
                          "dependencies": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "inputSchema",
                          "executeCode",
                          "dependencies",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Function",
        "operationId": "create-function",
        "tags": ["Functions"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "inputSchema": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "executeCode": { "type": "string" },
                  "dependencies": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "executeCode"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Function created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "inputSchema",
                        "executeCode",
                        "dependencies",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/functions/{id}": {
      "get": {
        "summary": "Get Function by ID",
        "operationId": "get-function",
        "tags": ["Functions"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Function details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "inputSchema",
                        "executeCode",
                        "dependencies",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Function",
        "operationId": "update-function",
        "tags": ["Functions"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "inputSchema": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "executeCode": { "type": "string" },
                  "dependencies": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Function updated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "inputSchema",
                        "executeCode",
                        "dependencies",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Function",
        "operationId": "delete-function",
        "tags": ["Functions"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Function deleted" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/tools": {
      "get": {
        "summary": "List Tools",
        "operationId": "list-tools",
        "tags": ["Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "enum": ["healthy", "unhealthy", "unknown", "needs_auth"]
            },
            "required": false,
            "name": "status",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of tools retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "tenantId": { "type": "string" },
                          "id": {
                            "type": "string",
                            "minLength": 1,
                            "maxLength": 255,
                            "pattern": "^[a-zA-Z0-9\\-_.]+$",
                            "description": "Resource identifier",
                            "example": "resource_789"
                          },
                          "projectId": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string", "nullable": true },
                          "config": {
                            "type": "object",
                            "properties": {
                              "type": { "type": "string", "enum": ["mcp"] },
                              "mcp": {
                                "type": "object",
                                "properties": {
                                  "server": {
                                    "type": "object",
                                    "properties": { "url": { "type": "string", "format": "uri" } },
                                    "required": ["url"]
                                  },
                                  "transport": {
                                    "type": "object",
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": ["streamable_http", "sse"]
                                      },
                                      "requestInit": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "eventSourceInit": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "reconnectionOptions": {
                                        "type": "object",
                                        "description": "Reconnection options for streamable HTTP transport"
                                      },
                                      "sessionId": { "type": "string" }
                                    },
                                    "required": ["type"]
                                  },
                                  "activeTools": { "type": "array", "items": { "type": "string" } }
                                },
                                "required": ["server"]
                              }
                            },
                            "required": ["type", "mcp"]
                          },
                          "credentialReferenceId": { "type": "string", "nullable": true },
                          "headers": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "imageUrl": { "type": "string" },
                          "capabilities": {
                            "anyOf": [
                              { "type": "string" },
                              { "type": "number" },
                              { "type": "boolean" },
                              { "nullable": true },
                              { "type": "object", "additionalProperties": { "nullable": true } },
                              { "type": "array", "items": { "nullable": true } },
                              { "nullable": true }
                            ]
                          },
                          "lastError": { "type": "string", "nullable": true },
                          "createdAt": { "type": "string", "format": "date" },
                          "updatedAt": { "type": "string", "format": "date" },
                          "availableTools": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "type": "string" },
                                "description": { "type": "string" },
                                "inputSchema": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              },
                              "required": ["name"]
                            }
                          },
                          "status": {
                            "type": "string",
                            "enum": ["healthy", "unhealthy", "unknown", "needs_auth"],
                            "default": "unknown"
                          },
                          "version": { "type": "string" }
                        },
                        "required": [
                          "tenantId",
                          "id",
                          "projectId",
                          "name",
                          "config",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Tool",
        "operationId": "create-tool",
        "tags": ["Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "config": {
                    "type": "object",
                    "properties": {
                      "type": { "type": "string", "enum": ["mcp"] },
                      "mcp": {
                        "type": "object",
                        "properties": {
                          "server": {
                            "type": "object",
                            "properties": { "url": { "type": "string", "format": "uri" } },
                            "required": ["url"]
                          },
                          "transport": {
                            "type": "object",
                            "properties": {
                              "type": { "type": "string", "enum": ["streamable_http", "sse"] },
                              "requestInit": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              },
                              "eventSourceInit": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              },
                              "reconnectionOptions": {
                                "type": "object",
                                "description": "Reconnection options for streamable HTTP transport"
                              },
                              "sessionId": { "type": "string" }
                            },
                            "required": ["type"]
                          },
                          "activeTools": { "type": "array", "items": { "type": "string" } }
                        },
                        "required": ["server"]
                      }
                    },
                    "required": ["type", "mcp"]
                  },
                  "credentialReferenceId": { "type": "string", "nullable": true },
                  "headers": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "imageUrl": { "type": "string" },
                  "capabilities": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "lastError": { "type": "string", "nullable": true },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "config"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tool created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "tenantId": { "type": "string" },
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "projectId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string", "format": "date" },
                        "updatedAt": { "type": "string", "format": "date" },
                        "availableTools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "inputSchema": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              }
                            },
                            "required": ["name"]
                          }
                        },
                        "status": {
                          "type": "string",
                          "enum": ["healthy", "unhealthy", "unknown", "needs_auth"],
                          "default": "unknown"
                        },
                        "version": { "type": "string" }
                      },
                      "required": [
                        "tenantId",
                        "id",
                        "projectId",
                        "name",
                        "config",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/tools/{id}": {
      "get": {
        "summary": "Get Tool",
        "operationId": "get-tool",
        "tags": ["Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Tool found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "tenantId": { "type": "string" },
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "projectId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string", "format": "date" },
                        "updatedAt": { "type": "string", "format": "date" },
                        "availableTools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "inputSchema": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              }
                            },
                            "required": ["name"]
                          }
                        },
                        "status": {
                          "type": "string",
                          "enum": ["healthy", "unhealthy", "unknown", "needs_auth"],
                          "default": "unknown"
                        },
                        "version": { "type": "string" }
                      },
                      "required": [
                        "tenantId",
                        "id",
                        "projectId",
                        "name",
                        "config",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Tool",
        "operationId": "update-tool",
        "tags": ["Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "config": {
                    "type": "object",
                    "properties": {
                      "type": { "type": "string", "enum": ["mcp"] },
                      "mcp": {
                        "type": "object",
                        "properties": {
                          "server": {
                            "type": "object",
                            "properties": { "url": { "type": "string", "format": "uri" } },
                            "required": ["url"]
                          },
                          "transport": {
                            "type": "object",
                            "properties": {
                              "type": { "type": "string", "enum": ["streamable_http", "sse"] },
                              "requestInit": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              },
                              "eventSourceInit": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              },
                              "reconnectionOptions": {
                                "type": "object",
                                "description": "Reconnection options for streamable HTTP transport"
                              },
                              "sessionId": { "type": "string" }
                            },
                            "required": ["type"]
                          },
                          "activeTools": { "type": "array", "items": { "type": "string" } }
                        },
                        "required": ["server"]
                      }
                    },
                    "required": ["type", "mcp"]
                  },
                  "credentialReferenceId": { "type": "string", "nullable": true },
                  "headers": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "imageUrl": { "type": "string" },
                  "capabilities": {
                    "anyOf": [
                      { "type": "string" },
                      { "type": "number" },
                      { "type": "boolean" },
                      { "nullable": true },
                      { "type": "object", "additionalProperties": { "nullable": true } },
                      { "type": "array", "items": { "nullable": true } },
                      { "nullable": true }
                    ]
                  },
                  "lastError": { "type": "string", "nullable": true },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tool updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "tenantId": { "type": "string" },
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "projectId": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string", "format": "date" },
                        "updatedAt": { "type": "string", "format": "date" },
                        "availableTools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "inputSchema": {
                                "type": "object",
                                "additionalProperties": { "nullable": true }
                              }
                            },
                            "required": ["name"]
                          }
                        },
                        "status": {
                          "type": "string",
                          "enum": ["healthy", "unhealthy", "unknown", "needs_auth"],
                          "default": "unknown"
                        },
                        "version": { "type": "string" }
                      },
                      "required": [
                        "tenantId",
                        "id",
                        "projectId",
                        "name",
                        "config",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Tool",
        "operationId": "delete-tool",
        "tags": ["Tools"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Tool deleted successfully" },
          "404": {
            "description": "Tool not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/api-keys": {
      "get": {
        "summary": "List API Keys",
        "description": "List all API keys for a tenant with optional pagination",
        "operationId": "list-api-keys",
        "tags": ["API Keys"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": { "type": "number", "minimum": 1, "default": 1 },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
            "required": false,
            "name": "limit",
            "in": "query"
          },
          {
            "schema": { "type": "string", "description": "Filter by agent ID" },
            "required": false,
            "description": "Filter by agent ID",
            "name": "agentId",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List of API keys retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "agentId": { "type": "string" },
                          "publicId": { "type": "string" },
                          "keyPrefix": { "type": "string" },
                          "name": { "type": "string", "nullable": true },
                          "lastUsedAt": { "type": "string", "nullable": true },
                          "expiresAt": { "type": "string", "nullable": true },
                          "createdAt": { "type": "string" },
                          "updatedAt": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "agentId",
                          "publicId",
                          "keyPrefix",
                          "name",
                          "lastUsedAt",
                          "expiresAt",
                          "createdAt",
                          "updatedAt"
                        ]
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": { "type": "number", "minimum": 1, "default": 1 },
                        "limit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 },
                        "total": { "type": "number" },
                        "pages": { "type": "number" }
                      },
                      "required": ["total", "pages"]
                    }
                  },
                  "required": ["data", "pagination"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create API Key",
        "description": "Create a new API key for an agent. Returns the full key (shown only once).",
        "operationId": "create-api-key",
        "tags": ["API Keys"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string", "nullable": true },
                  "expiresAt": { "type": "string", "nullable": true },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["agentId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "API key created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "apiKey": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "string" },
                            "agentId": { "type": "string" },
                            "publicId": { "type": "string" },
                            "keyPrefix": { "type": "string" },
                            "name": { "type": "string", "nullable": true },
                            "lastUsedAt": { "type": "string", "nullable": true },
                            "expiresAt": { "type": "string", "nullable": true },
                            "createdAt": { "type": "string" },
                            "updatedAt": { "type": "string" }
                          },
                          "required": [
                            "id",
                            "agentId",
                            "publicId",
                            "keyPrefix",
                            "name",
                            "lastUsedAt",
                            "expiresAt",
                            "createdAt",
                            "updatedAt"
                          ]
                        },
                        "key": {
                          "type": "string",
                          "description": "The full API key (shown only once)"
                        }
                      },
                      "required": ["apiKey", "key"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/api-keys/{id}": {
      "get": {
        "summary": "Get API Key",
        "description": "Get a specific API key by ID (does not return the actual key)",
        "operationId": "get-api-key-by-id",
        "tags": ["API Keys"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "API key found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "agentId": { "type": "string" },
                        "publicId": { "type": "string" },
                        "keyPrefix": { "type": "string" },
                        "name": { "type": "string", "nullable": true },
                        "lastUsedAt": { "type": "string", "nullable": true },
                        "expiresAt": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "agentId",
                        "publicId",
                        "keyPrefix",
                        "name",
                        "lastUsedAt",
                        "expiresAt",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update API Key",
        "description": "Update an API key (currently only expiration date can be changed)",
        "operationId": "update-api-key",
        "tags": ["API Keys"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string", "nullable": true },
                  "lastUsedAt": { "type": "string", "nullable": true },
                  "expiresAt": { "type": "string", "nullable": true },
                  "updatedAt": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "API key updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "agentId": { "type": "string" },
                        "publicId": { "type": "string" },
                        "keyPrefix": { "type": "string" },
                        "name": { "type": "string", "nullable": true },
                        "lastUsedAt": { "type": "string", "nullable": true },
                        "expiresAt": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": [
                        "id",
                        "agentId",
                        "publicId",
                        "keyPrefix",
                        "name",
                        "lastUsedAt",
                        "expiresAt",
                        "createdAt",
                        "updatedAt"
                      ]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete API Key",
        "description": "Delete an API key permanently",
        "operationId": "delete-api-key",
        "tags": ["API Keys"],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 255,
              "pattern": "^[a-zA-Z0-9\\-_.]+$",
              "description": "Resource identifier",
              "example": "resource_789"
            },
            "required": true,
            "description": "Resource identifier",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "API key deleted successfully" },
          "404": {
            "description": "API key not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agent": {
      "post": {
        "summary": "Create Full Agent",
        "operationId": "create-full-agent",
        "tags": ["Full Agent"],
        "description": "Create a complete agent agent with all agents, tools, and relationships from JSON definition",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "defaultSubAgentId": { "type": "string", "nullable": true },
                  "contextConfigId": { "type": "string", "nullable": true },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    }
                  },
                  "statusUpdates": {
                    "type": "object",
                    "properties": {
                      "enabled": { "type": "boolean" },
                      "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                      "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                      "prompt": { "type": "string", "maxLength": 2000 },
                      "statusComponents": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string" },
                            "description": { "type": "string" },
                            "detailsSchema": {
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "enum": ["object"] },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                },
                                "required": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["type", "properties"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  },
                  "prompt": { "type": "string", "maxLength": 5000 },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                    }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" },
                  "subAgents": {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "name": { "type": "string" },
                            "description": { "type": "string" },
                            "prompt": { "type": "string" },
                            "conversationHistoryConfig": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "models": {
                              "type": "object",
                              "properties": {
                                "base": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                },
                                "structuredOutput": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                },
                                "summarizer": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                }
                              }
                            },
                            "stopWhen": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "createdAt": { "type": "string" },
                            "updatedAt": { "type": "string" },
                            "type": { "type": "string", "enum": ["internal"] },
                            "canUse": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "agentToolRelationId": { "type": "string" },
                                  "toolId": { "type": "string" },
                                  "toolSelection": {
                                    "type": "array",
                                    "nullable": true,
                                    "items": { "type": "string" }
                                  },
                                  "headers": {
                                    "type": "object",
                                    "nullable": true,
                                    "additionalProperties": { "type": "string" }
                                  }
                                },
                                "required": ["toolId"]
                              }
                            },
                            "dataComponents": { "type": "array", "items": { "type": "string" } },
                            "artifactComponents": {
                              "type": "array",
                              "items": { "type": "string" }
                            },
                            "canTransferTo": { "type": "array", "items": { "type": "string" } },
                            "canDelegateTo": { "type": "array", "items": { "type": "string" } }
                          },
                          "required": ["id", "name", "description", "prompt", "type", "canUse"]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "name": { "type": "string" },
                            "description": { "type": "string" },
                            "baseUrl": { "type": "string" },
                            "credentialReferenceId": { "type": "string", "nullable": true },
                            "headers": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "createdAt": { "type": "string" },
                            "updatedAt": { "type": "string" }
                          },
                          "required": ["id", "name", "description", "baseUrl"]
                        }
                      ]
                    }
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "config"]
                    }
                  },
                  "functionTools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "functionId": { "type": "string" },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "functionId"]
                    }
                  },
                  "functions": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "executeCode"]
                    }
                  },
                  "contextConfig": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255,
                        "pattern": "^[a-zA-Z0-9\\-_.]+$",
                        "description": "Resource identifier",
                        "example": "resource_789"
                      },
                      "headersSchema": {
                        "type": "object",
                        "description": "JSON Schema for validating request headers"
                      },
                      "contextVariables": {
                        "type": "object",
                        "description": "Context variables configuration with fetch definitions"
                      }
                    }
                  }
                },
                "required": ["id", "name", "subAgents"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Full agent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Agent already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/projects/{projectId}/agent/{agentId}": {
      "get": {
        "summary": "Get Full Agent",
        "operationId": "get-full-agent",
        "tags": ["Full Agent"],
        "description": "Retrieve a complete agent agent definition with all agents, tools, and relationships",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Full agent found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Full Agent",
        "operationId": "update-full-agent",
        "tags": ["Full Agent"],
        "description": "Update or create a complete agent agent with all agents, tools, and relationships from JSON definition",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255,
                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                    "description": "Resource identifier",
                    "example": "resource_789"
                  },
                  "name": { "type": "string" },
                  "description": { "type": "string", "nullable": true },
                  "defaultSubAgentId": { "type": "string", "nullable": true },
                  "contextConfigId": { "type": "string", "nullable": true },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    }
                  },
                  "statusUpdates": {
                    "type": "object",
                    "properties": {
                      "enabled": { "type": "boolean" },
                      "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                      "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                      "prompt": { "type": "string", "maxLength": 2000 },
                      "statusComponents": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string" },
                            "description": { "type": "string" },
                            "detailsSchema": {
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "enum": ["object"] },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                },
                                "required": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["type", "properties"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  },
                  "prompt": { "type": "string", "maxLength": 5000 },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                    }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" },
                  "subAgents": {
                    "type": "object",
                    "additionalProperties": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "name": { "type": "string" },
                            "description": { "type": "string" },
                            "prompt": { "type": "string" },
                            "conversationHistoryConfig": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "models": {
                              "type": "object",
                              "properties": {
                                "base": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                },
                                "structuredOutput": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                },
                                "summarizer": {
                                  "type": "object",
                                  "properties": {
                                    "model": { "type": "string" },
                                    "providerOptions": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    }
                                  }
                                }
                              }
                            },
                            "stopWhen": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "createdAt": { "type": "string" },
                            "updatedAt": { "type": "string" },
                            "type": { "type": "string", "enum": ["internal"] },
                            "canUse": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "agentToolRelationId": { "type": "string" },
                                  "toolId": { "type": "string" },
                                  "toolSelection": {
                                    "type": "array",
                                    "nullable": true,
                                    "items": { "type": "string" }
                                  },
                                  "headers": {
                                    "type": "object",
                                    "nullable": true,
                                    "additionalProperties": { "type": "string" }
                                  }
                                },
                                "required": ["toolId"]
                              }
                            },
                            "dataComponents": { "type": "array", "items": { "type": "string" } },
                            "artifactComponents": {
                              "type": "array",
                              "items": { "type": "string" }
                            },
                            "canTransferTo": { "type": "array", "items": { "type": "string" } },
                            "canDelegateTo": { "type": "array", "items": { "type": "string" } }
                          },
                          "required": ["id", "name", "description", "prompt", "type", "canUse"]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "name": { "type": "string" },
                            "description": { "type": "string" },
                            "baseUrl": { "type": "string" },
                            "credentialReferenceId": { "type": "string", "nullable": true },
                            "headers": {
                              "anyOf": [
                                { "type": "string" },
                                { "type": "number" },
                                { "type": "boolean" },
                                { "nullable": true },
                                { "type": "object", "additionalProperties": { "nullable": true } },
                                { "type": "array", "items": { "nullable": true } },
                                { "nullable": true }
                              ]
                            },
                            "createdAt": { "type": "string" },
                            "updatedAt": { "type": "string" }
                          },
                          "required": ["id", "name", "description", "baseUrl"]
                        }
                      ]
                    }
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "config"]
                    }
                  },
                  "functionTools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "functionId": { "type": "string" },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "functionId"]
                    }
                  },
                  "functions": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "executeCode"]
                    }
                  },
                  "contextConfig": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 255,
                        "pattern": "^[a-zA-Z0-9\\-_.]+$",
                        "description": "Resource identifier",
                        "example": "resource_789"
                      },
                      "headersSchema": {
                        "type": "object",
                        "description": "JSON Schema for validating request headers"
                      },
                      "contextVariables": {
                        "type": "object",
                        "description": "Context variables configuration with fetch definitions"
                      }
                    }
                  }
                },
                "required": ["id", "name", "subAgents"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full agent updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "201": {
            "description": "Full agent created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Full Agent",
        "operationId": "delete-full-agent",
        "tags": ["Full Agent"],
        "description": "Delete a complete agent and cascade to all related entities (relationships, not other agents/tools)",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "example": "graph_789"
            },
            "required": true,
            "description": "Agent identifier",
            "name": "agentId",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Agent deleted successfully" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/project-full": {
      "post": {
        "summary": "Create Full Project",
        "operationId": "create-full-project",
        "tags": ["Full Project"],
        "description": "Create a complete project with all agent, agents, tools, and relationships from JSON definition",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    },
                    "required": ["base"]
                  },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                      "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                    }
                  },
                  "sandboxConfig": {
                    "type": "object",
                    "properties": {
                      "provider": { "type": "string", "enum": ["vercel", "local"] },
                      "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                      "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                      "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                    },
                    "required": ["provider", "runtime"]
                  },
                  "agents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "config"]
                    }
                  },
                  "functions": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "executeCode"]
                    }
                  },
                  "dataComponents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description"]
                    }
                  },
                  "artifactComponents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        }
                      },
                      "required": ["id", "name", "description"]
                    }
                  },
                  "statusUpdates": {
                    "type": "object",
                    "properties": {
                      "enabled": { "type": "boolean" },
                      "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                      "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                      "prompt": { "type": "string", "maxLength": 2000 },
                      "statusComponents": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string" },
                            "description": { "type": "string" },
                            "detailsSchema": {
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "enum": ["object"] },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                },
                                "required": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["type", "properties"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  },
                  "credentialReferences": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                        "credentialStoreId": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "retrievalParams": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "nullable": true }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "type", "credentialStoreId"]
                    }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "description", "models", "agents", "tools"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Full project created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          },
                          "required": ["base"]
                        },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                            "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                          }
                        },
                        "sandboxConfig": {
                          "type": "object",
                          "properties": {
                            "provider": { "type": "string", "enum": ["vercel", "local"] },
                            "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                            "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                            "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                          },
                          "required": ["provider", "runtime"]
                        },
                        "agents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "defaultSubAgentId": { "type": "string", "nullable": true },
                              "contextConfigId": { "type": "string", "nullable": true },
                              "models": {
                                "type": "object",
                                "properties": {
                                  "base": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "structuredOutput": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "summarizer": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  }
                                }
                              },
                              "statusUpdates": {
                                "type": "object",
                                "properties": {
                                  "enabled": { "type": "boolean" },
                                  "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                                  "timeInSeconds": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 600
                                  },
                                  "prompt": { "type": "string", "maxLength": 2000 },
                                  "statusComponents": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string" },
                                        "description": { "type": "string" },
                                        "detailsSchema": {
                                          "type": "object",
                                          "properties": {
                                            "type": { "type": "string", "enum": ["object"] },
                                            "properties": {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            "required": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["type", "properties"]
                                        }
                                      },
                                      "required": ["type"]
                                    }
                                  }
                                }
                              },
                              "prompt": { "type": "string", "maxLength": 5000 },
                              "stopWhen": {
                                "type": "object",
                                "properties": {
                                  "transferCountIs": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 100
                                  }
                                }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" },
                              "subAgents": {
                                "type": "object",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "prompt": { "type": "string" },
                                        "conversationHistoryConfig": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "models": {
                                          "type": "object",
                                          "properties": {
                                            "base": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "structuredOutput": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "summarizer": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            }
                                          }
                                        },
                                        "stopWhen": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" },
                                        "type": { "type": "string", "enum": ["internal"] },
                                        "canUse": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "agentToolRelationId": { "type": "string" },
                                              "toolId": { "type": "string" },
                                              "toolSelection": {
                                                "type": "array",
                                                "nullable": true,
                                                "items": { "type": "string" }
                                              },
                                              "headers": {
                                                "type": "object",
                                                "nullable": true,
                                                "additionalProperties": { "type": "string" }
                                              }
                                            },
                                            "required": ["toolId"]
                                          }
                                        },
                                        "dataComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "artifactComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canTransferTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canDelegateTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "name",
                                        "description",
                                        "prompt",
                                        "type",
                                        "canUse"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "baseUrl": { "type": "string" },
                                        "credentialReferenceId": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "headers": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" }
                                      },
                                      "required": ["id", "name", "description", "baseUrl"]
                                    }
                                  ]
                                }
                              },
                              "tools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "config": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string", "enum": ["mcp"] },
                                        "mcp": {
                                          "type": "object",
                                          "properties": {
                                            "server": {
                                              "type": "object",
                                              "properties": {
                                                "url": { "type": "string", "format": "uri" }
                                              },
                                              "required": ["url"]
                                            },
                                            "transport": {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": ["streamable_http", "sse"]
                                                },
                                                "requestInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "eventSourceInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "reconnectionOptions": {
                                                  "type": "object",
                                                  "description": "Reconnection options for streamable HTTP transport"
                                                },
                                                "sessionId": { "type": "string" }
                                              },
                                              "required": ["type"]
                                            },
                                            "activeTools": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["server"]
                                        }
                                      },
                                      "required": ["type", "mcp"]
                                    },
                                    "credentialReferenceId": { "type": "string", "nullable": true },
                                    "headers": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "imageUrl": { "type": "string" },
                                    "capabilities": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "lastError": { "type": "string", "nullable": true },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "config"]
                                }
                              },
                              "functionTools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "functionId": { "type": "string" },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "functionId"]
                                }
                              },
                              "functions": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "inputSchema": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "executeCode": { "type": "string" },
                                    "dependencies": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "executeCode"]
                                }
                              },
                              "contextConfig": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "headersSchema": {
                                    "type": "object",
                                    "description": "JSON Schema for validating request headers"
                                  },
                                  "contextVariables": {
                                    "type": "object",
                                    "description": "Context variables configuration with fetch definitions"
                                  }
                                }
                              }
                            },
                            "required": ["id", "name", "subAgents"]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "dataComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "artifactComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "credentialReferences": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                              "credentialStoreId": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "retrievalParams": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": { "nullable": true }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "type", "credentialStoreId"]
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "models", "agents", "tools"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "409": {
            "description": "Project already exists",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": { "type": "string" },
                    "message": { "type": "string" },
                    "details": { "nullable": true, "description": "Additional error details" }
                  },
                  "required": ["error"]
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/tenants/{tenantId}/project-full/{projectId}": {
      "get": {
        "summary": "Get Full Project",
        "operationId": "get-full-project",
        "tags": ["Full Project"],
        "description": "Retrieve a complete project definition with all agent, agents, tools, and relationships",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Full project found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          },
                          "required": ["base"]
                        },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                            "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                          }
                        },
                        "sandboxConfig": {
                          "type": "object",
                          "properties": {
                            "provider": { "type": "string", "enum": ["vercel", "local"] },
                            "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                            "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                            "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                          },
                          "required": ["provider", "runtime"]
                        },
                        "agents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "defaultSubAgentId": { "type": "string", "nullable": true },
                              "contextConfigId": { "type": "string", "nullable": true },
                              "models": {
                                "type": "object",
                                "properties": {
                                  "base": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "structuredOutput": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "summarizer": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  }
                                }
                              },
                              "statusUpdates": {
                                "type": "object",
                                "properties": {
                                  "enabled": { "type": "boolean" },
                                  "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                                  "timeInSeconds": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 600
                                  },
                                  "prompt": { "type": "string", "maxLength": 2000 },
                                  "statusComponents": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string" },
                                        "description": { "type": "string" },
                                        "detailsSchema": {
                                          "type": "object",
                                          "properties": {
                                            "type": { "type": "string", "enum": ["object"] },
                                            "properties": {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            "required": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["type", "properties"]
                                        }
                                      },
                                      "required": ["type"]
                                    }
                                  }
                                }
                              },
                              "prompt": { "type": "string", "maxLength": 5000 },
                              "stopWhen": {
                                "type": "object",
                                "properties": {
                                  "transferCountIs": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 100
                                  }
                                }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" },
                              "subAgents": {
                                "type": "object",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "prompt": { "type": "string" },
                                        "conversationHistoryConfig": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "models": {
                                          "type": "object",
                                          "properties": {
                                            "base": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "structuredOutput": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "summarizer": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            }
                                          }
                                        },
                                        "stopWhen": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" },
                                        "type": { "type": "string", "enum": ["internal"] },
                                        "canUse": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "agentToolRelationId": { "type": "string" },
                                              "toolId": { "type": "string" },
                                              "toolSelection": {
                                                "type": "array",
                                                "nullable": true,
                                                "items": { "type": "string" }
                                              },
                                              "headers": {
                                                "type": "object",
                                                "nullable": true,
                                                "additionalProperties": { "type": "string" }
                                              }
                                            },
                                            "required": ["toolId"]
                                          }
                                        },
                                        "dataComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "artifactComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canTransferTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canDelegateTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "name",
                                        "description",
                                        "prompt",
                                        "type",
                                        "canUse"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "baseUrl": { "type": "string" },
                                        "credentialReferenceId": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "headers": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" }
                                      },
                                      "required": ["id", "name", "description", "baseUrl"]
                                    }
                                  ]
                                }
                              },
                              "tools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "config": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string", "enum": ["mcp"] },
                                        "mcp": {
                                          "type": "object",
                                          "properties": {
                                            "server": {
                                              "type": "object",
                                              "properties": {
                                                "url": { "type": "string", "format": "uri" }
                                              },
                                              "required": ["url"]
                                            },
                                            "transport": {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": ["streamable_http", "sse"]
                                                },
                                                "requestInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "eventSourceInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "reconnectionOptions": {
                                                  "type": "object",
                                                  "description": "Reconnection options for streamable HTTP transport"
                                                },
                                                "sessionId": { "type": "string" }
                                              },
                                              "required": ["type"]
                                            },
                                            "activeTools": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["server"]
                                        }
                                      },
                                      "required": ["type", "mcp"]
                                    },
                                    "credentialReferenceId": { "type": "string", "nullable": true },
                                    "headers": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "imageUrl": { "type": "string" },
                                    "capabilities": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "lastError": { "type": "string", "nullable": true },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "config"]
                                }
                              },
                              "functionTools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "functionId": { "type": "string" },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "functionId"]
                                }
                              },
                              "functions": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "inputSchema": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "executeCode": { "type": "string" },
                                    "dependencies": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "executeCode"]
                                }
                              },
                              "contextConfig": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "headersSchema": {
                                    "type": "object",
                                    "description": "JSON Schema for validating request headers"
                                  },
                                  "contextVariables": {
                                    "type": "object",
                                    "description": "Context variables configuration with fetch definitions"
                                  }
                                }
                              }
                            },
                            "required": ["id", "name", "subAgents"]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "dataComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "artifactComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "credentialReferences": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                              "credentialStoreId": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "retrievalParams": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": { "nullable": true }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "type", "credentialStoreId"]
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "models", "agents", "tools"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update Full Project",
        "operationId": "update-full-project",
        "tags": ["Full Project"],
        "description": "Update or create a complete project with all agent, agents, tools, and relationships from JSON definition",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": { "type": "string" },
                  "name": { "type": "string" },
                  "description": { "type": "string" },
                  "models": {
                    "type": "object",
                    "properties": {
                      "base": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "structuredOutput": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      },
                      "summarizer": {
                        "type": "object",
                        "properties": {
                          "model": { "type": "string" },
                          "providerOptions": {
                            "type": "object",
                            "additionalProperties": { "nullable": true }
                          }
                        }
                      }
                    },
                    "required": ["base"]
                  },
                  "stopWhen": {
                    "type": "object",
                    "properties": {
                      "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                      "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                    }
                  },
                  "sandboxConfig": {
                    "type": "object",
                    "properties": {
                      "provider": { "type": "string", "enum": ["vercel", "local"] },
                      "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                      "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                      "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                    },
                    "required": ["provider", "runtime"]
                  },
                  "agents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "defaultSubAgentId": { "type": "string", "nullable": true },
                        "contextConfigId": { "type": "string", "nullable": true },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "prompt": { "type": "string", "maxLength": 5000 },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 }
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" },
                        "subAgents": {
                          "type": "object",
                          "additionalProperties": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "prompt": { "type": "string" },
                                  "conversationHistoryConfig": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "models": {
                                    "type": "object",
                                    "properties": {
                                      "base": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "structuredOutput": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      },
                                      "summarizer": {
                                        "type": "object",
                                        "properties": {
                                          "model": { "type": "string" },
                                          "providerOptions": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "stopWhen": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" },
                                  "type": { "type": "string", "enum": ["internal"] },
                                  "canUse": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "agentToolRelationId": { "type": "string" },
                                        "toolId": { "type": "string" },
                                        "toolSelection": {
                                          "type": "array",
                                          "nullable": true,
                                          "items": { "type": "string" }
                                        },
                                        "headers": {
                                          "type": "object",
                                          "nullable": true,
                                          "additionalProperties": { "type": "string" }
                                        }
                                      },
                                      "required": ["toolId"]
                                    }
                                  },
                                  "dataComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "artifactComponents": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canTransferTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  },
                                  "canDelegateTo": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "required": [
                                  "id",
                                  "name",
                                  "description",
                                  "prompt",
                                  "type",
                                  "canUse"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "name": { "type": "string" },
                                  "description": { "type": "string" },
                                  "baseUrl": { "type": "string" },
                                  "credentialReferenceId": { "type": "string", "nullable": true },
                                  "headers": {
                                    "anyOf": [
                                      { "type": "string" },
                                      { "type": "number" },
                                      { "type": "boolean" },
                                      { "nullable": true },
                                      {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      { "type": "array", "items": { "nullable": true } },
                                      { "nullable": true }
                                    ]
                                  },
                                  "createdAt": { "type": "string" },
                                  "updatedAt": { "type": "string" }
                                },
                                "required": ["id", "name", "description", "baseUrl"]
                              }
                            ]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functionTools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "functionId": { "type": "string" },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "functionId"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "contextConfig": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 255,
                              "pattern": "^[a-zA-Z0-9\\-_.]+$",
                              "description": "Resource identifier",
                              "example": "resource_789"
                            },
                            "headersSchema": {
                              "type": "object",
                              "description": "JSON Schema for validating request headers"
                            },
                            "contextVariables": {
                              "type": "object",
                              "description": "Context variables configuration with fetch definitions"
                            }
                          }
                        }
                      },
                      "required": ["id", "name", "subAgents"]
                    }
                  },
                  "tools": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string", "nullable": true },
                        "config": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string", "enum": ["mcp"] },
                            "mcp": {
                              "type": "object",
                              "properties": {
                                "server": {
                                  "type": "object",
                                  "properties": { "url": { "type": "string", "format": "uri" } },
                                  "required": ["url"]
                                },
                                "transport": {
                                  "type": "object",
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "enum": ["streamable_http", "sse"]
                                    },
                                    "requestInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "eventSourceInit": {
                                      "type": "object",
                                      "additionalProperties": { "nullable": true }
                                    },
                                    "reconnectionOptions": {
                                      "type": "object",
                                      "description": "Reconnection options for streamable HTTP transport"
                                    },
                                    "sessionId": { "type": "string" }
                                  },
                                  "required": ["type"]
                                },
                                "activeTools": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["server"]
                            }
                          },
                          "required": ["type", "mcp"]
                        },
                        "credentialReferenceId": { "type": "string", "nullable": true },
                        "headers": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "imageUrl": { "type": "string" },
                        "capabilities": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "lastError": { "type": "string", "nullable": true },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "config"]
                    }
                  },
                  "functions": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "inputSchema": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "executeCode": { "type": "string" },
                        "dependencies": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "executeCode"]
                    }
                  },
                  "dataComponents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description"]
                    }
                  },
                  "artifactComponents": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "props": {
                          "anyOf": [
                            { "type": "string" },
                            { "type": "number" },
                            { "type": "boolean" },
                            { "nullable": true },
                            { "type": "object", "additionalProperties": { "nullable": true } },
                            { "type": "array", "items": { "nullable": true } },
                            { "nullable": true }
                          ]
                        }
                      },
                      "required": ["id", "name", "description"]
                    }
                  },
                  "statusUpdates": {
                    "type": "object",
                    "properties": {
                      "enabled": { "type": "boolean" },
                      "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                      "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                      "prompt": { "type": "string", "maxLength": 2000 },
                      "statusComponents": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": { "type": "string" },
                            "description": { "type": "string" },
                            "detailsSchema": {
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "enum": ["object"] },
                                "properties": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                },
                                "required": { "type": "array", "items": { "type": "string" } }
                              },
                              "required": ["type", "properties"]
                            }
                          },
                          "required": ["type"]
                        }
                      }
                    }
                  },
                  "credentialReferences": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                        "credentialStoreId": {
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 255,
                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                          "description": "Resource identifier",
                          "example": "resource_789"
                        },
                        "retrievalParams": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": { "nullable": true }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "type", "credentialStoreId"]
                    }
                  },
                  "createdAt": { "type": "string" },
                  "updatedAt": { "type": "string" }
                },
                "required": ["id", "name", "description", "models", "agents", "tools"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Full project updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          },
                          "required": ["base"]
                        },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                            "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                          }
                        },
                        "sandboxConfig": {
                          "type": "object",
                          "properties": {
                            "provider": { "type": "string", "enum": ["vercel", "local"] },
                            "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                            "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                            "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                          },
                          "required": ["provider", "runtime"]
                        },
                        "agents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "defaultSubAgentId": { "type": "string", "nullable": true },
                              "contextConfigId": { "type": "string", "nullable": true },
                              "models": {
                                "type": "object",
                                "properties": {
                                  "base": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "structuredOutput": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "summarizer": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  }
                                }
                              },
                              "statusUpdates": {
                                "type": "object",
                                "properties": {
                                  "enabled": { "type": "boolean" },
                                  "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                                  "timeInSeconds": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 600
                                  },
                                  "prompt": { "type": "string", "maxLength": 2000 },
                                  "statusComponents": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string" },
                                        "description": { "type": "string" },
                                        "detailsSchema": {
                                          "type": "object",
                                          "properties": {
                                            "type": { "type": "string", "enum": ["object"] },
                                            "properties": {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            "required": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["type", "properties"]
                                        }
                                      },
                                      "required": ["type"]
                                    }
                                  }
                                }
                              },
                              "prompt": { "type": "string", "maxLength": 5000 },
                              "stopWhen": {
                                "type": "object",
                                "properties": {
                                  "transferCountIs": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 100
                                  }
                                }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" },
                              "subAgents": {
                                "type": "object",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "prompt": { "type": "string" },
                                        "conversationHistoryConfig": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "models": {
                                          "type": "object",
                                          "properties": {
                                            "base": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "structuredOutput": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "summarizer": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            }
                                          }
                                        },
                                        "stopWhen": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" },
                                        "type": { "type": "string", "enum": ["internal"] },
                                        "canUse": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "agentToolRelationId": { "type": "string" },
                                              "toolId": { "type": "string" },
                                              "toolSelection": {
                                                "type": "array",
                                                "nullable": true,
                                                "items": { "type": "string" }
                                              },
                                              "headers": {
                                                "type": "object",
                                                "nullable": true,
                                                "additionalProperties": { "type": "string" }
                                              }
                                            },
                                            "required": ["toolId"]
                                          }
                                        },
                                        "dataComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "artifactComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canTransferTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canDelegateTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "name",
                                        "description",
                                        "prompt",
                                        "type",
                                        "canUse"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "baseUrl": { "type": "string" },
                                        "credentialReferenceId": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "headers": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" }
                                      },
                                      "required": ["id", "name", "description", "baseUrl"]
                                    }
                                  ]
                                }
                              },
                              "tools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "config": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string", "enum": ["mcp"] },
                                        "mcp": {
                                          "type": "object",
                                          "properties": {
                                            "server": {
                                              "type": "object",
                                              "properties": {
                                                "url": { "type": "string", "format": "uri" }
                                              },
                                              "required": ["url"]
                                            },
                                            "transport": {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": ["streamable_http", "sse"]
                                                },
                                                "requestInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "eventSourceInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "reconnectionOptions": {
                                                  "type": "object",
                                                  "description": "Reconnection options for streamable HTTP transport"
                                                },
                                                "sessionId": { "type": "string" }
                                              },
                                              "required": ["type"]
                                            },
                                            "activeTools": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["server"]
                                        }
                                      },
                                      "required": ["type", "mcp"]
                                    },
                                    "credentialReferenceId": { "type": "string", "nullable": true },
                                    "headers": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "imageUrl": { "type": "string" },
                                    "capabilities": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "lastError": { "type": "string", "nullable": true },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "config"]
                                }
                              },
                              "functionTools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "functionId": { "type": "string" },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "functionId"]
                                }
                              },
                              "functions": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "inputSchema": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "executeCode": { "type": "string" },
                                    "dependencies": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "executeCode"]
                                }
                              },
                              "contextConfig": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "headersSchema": {
                                    "type": "object",
                                    "description": "JSON Schema for validating request headers"
                                  },
                                  "contextVariables": {
                                    "type": "object",
                                    "description": "Context variables configuration with fetch definitions"
                                  }
                                }
                              }
                            },
                            "required": ["id", "name", "subAgents"]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "dataComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "artifactComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "credentialReferences": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                              "credentialStoreId": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "retrievalParams": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": { "nullable": true }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "type", "credentialStoreId"]
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "models", "agents", "tools"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "201": {
            "description": "Full project created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "name": { "type": "string" },
                        "description": { "type": "string" },
                        "models": {
                          "type": "object",
                          "properties": {
                            "base": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "structuredOutput": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            },
                            "summarizer": {
                              "type": "object",
                              "properties": {
                                "model": { "type": "string" },
                                "providerOptions": {
                                  "type": "object",
                                  "additionalProperties": { "nullable": true }
                                }
                              }
                            }
                          },
                          "required": ["base"]
                        },
                        "stopWhen": {
                          "type": "object",
                          "properties": {
                            "transferCountIs": { "type": "number", "minimum": 1, "maximum": 100 },
                            "stepCountIs": { "type": "number", "minimum": 1, "maximum": 1000 }
                          }
                        },
                        "sandboxConfig": {
                          "type": "object",
                          "properties": {
                            "provider": { "type": "string", "enum": ["vercel", "local"] },
                            "runtime": { "type": "string", "enum": ["node22", "typescript"] },
                            "timeout": { "type": "number", "minimum": 1000, "maximum": 300000 },
                            "vcpus": { "type": "number", "minimum": 1, "maximum": 8 }
                          },
                          "required": ["provider", "runtime"]
                        },
                        "agents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "defaultSubAgentId": { "type": "string", "nullable": true },
                              "contextConfigId": { "type": "string", "nullable": true },
                              "models": {
                                "type": "object",
                                "properties": {
                                  "base": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "structuredOutput": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  },
                                  "summarizer": {
                                    "type": "object",
                                    "properties": {
                                      "model": { "type": "string" },
                                      "providerOptions": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      }
                                    }
                                  }
                                }
                              },
                              "statusUpdates": {
                                "type": "object",
                                "properties": {
                                  "enabled": { "type": "boolean" },
                                  "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                                  "timeInSeconds": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 600
                                  },
                                  "prompt": { "type": "string", "maxLength": 2000 },
                                  "statusComponents": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string" },
                                        "description": { "type": "string" },
                                        "detailsSchema": {
                                          "type": "object",
                                          "properties": {
                                            "type": { "type": "string", "enum": ["object"] },
                                            "properties": {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            "required": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["type", "properties"]
                                        }
                                      },
                                      "required": ["type"]
                                    }
                                  }
                                }
                              },
                              "prompt": { "type": "string", "maxLength": 5000 },
                              "stopWhen": {
                                "type": "object",
                                "properties": {
                                  "transferCountIs": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 100
                                  }
                                }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" },
                              "subAgents": {
                                "type": "object",
                                "additionalProperties": {
                                  "anyOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "prompt": { "type": "string" },
                                        "conversationHistoryConfig": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "models": {
                                          "type": "object",
                                          "properties": {
                                            "base": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "structuredOutput": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            },
                                            "summarizer": {
                                              "type": "object",
                                              "properties": {
                                                "model": { "type": "string" },
                                                "providerOptions": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                }
                                              }
                                            }
                                          }
                                        },
                                        "stopWhen": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" },
                                        "type": { "type": "string", "enum": ["internal"] },
                                        "canUse": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "agentToolRelationId": { "type": "string" },
                                              "toolId": { "type": "string" },
                                              "toolSelection": {
                                                "type": "array",
                                                "nullable": true,
                                                "items": { "type": "string" }
                                              },
                                              "headers": {
                                                "type": "object",
                                                "nullable": true,
                                                "additionalProperties": { "type": "string" }
                                              }
                                            },
                                            "required": ["toolId"]
                                          }
                                        },
                                        "dataComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "artifactComponents": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canTransferTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        },
                                        "canDelegateTo": {
                                          "type": "array",
                                          "items": { "type": "string" }
                                        }
                                      },
                                      "required": [
                                        "id",
                                        "name",
                                        "description",
                                        "prompt",
                                        "type",
                                        "canUse"
                                      ]
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 255,
                                          "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                          "description": "Resource identifier",
                                          "example": "resource_789"
                                        },
                                        "name": { "type": "string" },
                                        "description": { "type": "string" },
                                        "baseUrl": { "type": "string" },
                                        "credentialReferenceId": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "headers": {
                                          "anyOf": [
                                            { "type": "string" },
                                            { "type": "number" },
                                            { "type": "boolean" },
                                            { "nullable": true },
                                            {
                                              "type": "object",
                                              "additionalProperties": { "nullable": true }
                                            },
                                            { "type": "array", "items": { "nullable": true } },
                                            { "nullable": true }
                                          ]
                                        },
                                        "createdAt": { "type": "string" },
                                        "updatedAt": { "type": "string" }
                                      },
                                      "required": ["id", "name", "description", "baseUrl"]
                                    }
                                  ]
                                }
                              },
                              "tools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "config": {
                                      "type": "object",
                                      "properties": {
                                        "type": { "type": "string", "enum": ["mcp"] },
                                        "mcp": {
                                          "type": "object",
                                          "properties": {
                                            "server": {
                                              "type": "object",
                                              "properties": {
                                                "url": { "type": "string", "format": "uri" }
                                              },
                                              "required": ["url"]
                                            },
                                            "transport": {
                                              "type": "object",
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": ["streamable_http", "sse"]
                                                },
                                                "requestInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "eventSourceInit": {
                                                  "type": "object",
                                                  "additionalProperties": { "nullable": true }
                                                },
                                                "reconnectionOptions": {
                                                  "type": "object",
                                                  "description": "Reconnection options for streamable HTTP transport"
                                                },
                                                "sessionId": { "type": "string" }
                                              },
                                              "required": ["type"]
                                            },
                                            "activeTools": {
                                              "type": "array",
                                              "items": { "type": "string" }
                                            }
                                          },
                                          "required": ["server"]
                                        }
                                      },
                                      "required": ["type", "mcp"]
                                    },
                                    "credentialReferenceId": { "type": "string", "nullable": true },
                                    "headers": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "imageUrl": { "type": "string" },
                                    "capabilities": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "lastError": { "type": "string", "nullable": true },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "config"]
                                }
                              },
                              "functionTools": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "name": { "type": "string" },
                                    "description": { "type": "string", "nullable": true },
                                    "functionId": { "type": "string" },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "name", "functionId"]
                                }
                              },
                              "functions": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "minLength": 1,
                                      "maxLength": 255,
                                      "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                      "description": "Resource identifier",
                                      "example": "resource_789"
                                    },
                                    "inputSchema": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "executeCode": { "type": "string" },
                                    "dependencies": {
                                      "anyOf": [
                                        { "type": "string" },
                                        { "type": "number" },
                                        { "type": "boolean" },
                                        { "nullable": true },
                                        {
                                          "type": "object",
                                          "additionalProperties": { "nullable": true }
                                        },
                                        { "type": "array", "items": { "nullable": true } },
                                        { "nullable": true }
                                      ]
                                    },
                                    "createdAt": { "type": "string" },
                                    "updatedAt": { "type": "string" }
                                  },
                                  "required": ["id", "executeCode"]
                                }
                              },
                              "contextConfig": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 255,
                                    "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                    "description": "Resource identifier",
                                    "example": "resource_789"
                                  },
                                  "headersSchema": {
                                    "type": "object",
                                    "description": "JSON Schema for validating request headers"
                                  },
                                  "contextVariables": {
                                    "type": "object",
                                    "description": "Context variables configuration with fetch definitions"
                                  }
                                }
                              }
                            },
                            "required": ["id", "name", "subAgents"]
                          }
                        },
                        "tools": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string", "nullable": true },
                              "config": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "enum": ["mcp"] },
                                  "mcp": {
                                    "type": "object",
                                    "properties": {
                                      "server": {
                                        "type": "object",
                                        "properties": {
                                          "url": { "type": "string", "format": "uri" }
                                        },
                                        "required": ["url"]
                                      },
                                      "transport": {
                                        "type": "object",
                                        "properties": {
                                          "type": {
                                            "type": "string",
                                            "enum": ["streamable_http", "sse"]
                                          },
                                          "requestInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "eventSourceInit": {
                                            "type": "object",
                                            "additionalProperties": { "nullable": true }
                                          },
                                          "reconnectionOptions": {
                                            "type": "object",
                                            "description": "Reconnection options for streamable HTTP transport"
                                          },
                                          "sessionId": { "type": "string" }
                                        },
                                        "required": ["type"]
                                      },
                                      "activeTools": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                      }
                                    },
                                    "required": ["server"]
                                  }
                                },
                                "required": ["type", "mcp"]
                              },
                              "credentialReferenceId": { "type": "string", "nullable": true },
                              "headers": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "imageUrl": { "type": "string" },
                              "capabilities": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "lastError": { "type": "string", "nullable": true },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "config"]
                          }
                        },
                        "functions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "inputSchema": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "executeCode": { "type": "string" },
                              "dependencies": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "executeCode"]
                          }
                        },
                        "dataComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "artifactComponents": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "name": { "type": "string" },
                              "description": { "type": "string" },
                              "props": {
                                "anyOf": [
                                  { "type": "string" },
                                  { "type": "number" },
                                  { "type": "boolean" },
                                  { "nullable": true },
                                  {
                                    "type": "object",
                                    "additionalProperties": { "nullable": true }
                                  },
                                  { "type": "array", "items": { "nullable": true } },
                                  { "nullable": true }
                                ]
                              }
                            },
                            "required": ["id", "name", "description"]
                          }
                        },
                        "statusUpdates": {
                          "type": "object",
                          "properties": {
                            "enabled": { "type": "boolean" },
                            "numEvents": { "type": "number", "minimum": 1, "maximum": 100 },
                            "timeInSeconds": { "type": "number", "minimum": 1, "maximum": 600 },
                            "prompt": { "type": "string", "maxLength": 2000 },
                            "statusComponents": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string" },
                                  "description": { "type": "string" },
                                  "detailsSchema": {
                                    "type": "object",
                                    "properties": {
                                      "type": { "type": "string", "enum": ["object"] },
                                      "properties": {
                                        "type": "object",
                                        "additionalProperties": { "nullable": true }
                                      },
                                      "required": { "type": "array", "items": { "type": "string" } }
                                    },
                                    "required": ["type", "properties"]
                                  }
                                },
                                "required": ["type"]
                              }
                            }
                          }
                        },
                        "credentialReferences": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "type": { "type": "string", "enum": ["memory", "keychain", "nango"] },
                              "credentialStoreId": {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 255,
                                "pattern": "^[a-zA-Z0-9\\-_.]+$",
                                "description": "Resource identifier",
                                "example": "resource_789"
                              },
                              "retrievalParams": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": { "nullable": true }
                              },
                              "createdAt": { "type": "string" },
                              "updatedAt": { "type": "string" }
                            },
                            "required": ["id", "type", "credentialStoreId"]
                          }
                        },
                        "createdAt": { "type": "string" },
                        "updatedAt": { "type": "string" }
                      },
                      "required": ["id", "name", "description", "models", "agents", "tools"]
                    }
                  },
                  "required": ["data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Full Project",
        "operationId": "delete-full-project",
        "tags": ["Full Project"],
        "description": "Delete a complete project and cascade to all related entities (agent, agents, tools, relationships)",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "Tenant identifier",
              "example": "tenant_123"
            },
            "required": true,
            "description": "Tenant identifier",
            "name": "tenantId",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "Project identifier",
              "example": "project_456"
            },
            "required": true,
            "description": "Project identifier",
            "name": "projectId",
            "in": "path"
          }
        ],
        "responses": {
          "204": { "description": "Project deleted successfully" },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/BadRequest" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/Unauthorized" }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/Forbidden" } }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/problem+json": { "schema": { "$ref": "#/components/schemas/NotFound" } }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/UnprocessableEntity" }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/problem+json": {
                "schema": { "$ref": "#/components/schemas/InternalServerError" }
              }
            }
          }
        }
      }
    },
    "/oauth/login": {
      "get": {
        "summary": "Initiate OAuth login for MCP tool",
        "description": "Detects OAuth requirements and redirects to authorization server (public endpoint)",
        "operationId": "initiate-oauth-login-public",
        "tags": ["OAuth"],
        "parameters": [
          {
            "schema": { "type": "string", "minLength": 1 },
            "required": true,
            "name": "tenantId",
            "in": "query"
          },
          {
            "schema": { "type": "string", "minLength": 1 },
            "required": true,
            "name": "projectId",
            "in": "query"
          },
          {
            "schema": { "type": "string", "minLength": 1 },
            "required": true,
            "name": "toolId",
            "in": "query"
          }
        ],
        "responses": {
          "302": { "description": "Redirect to OAuth authorization server" },
          "400": {
            "description": "OAuth not supported or configuration error",
            "content": { "text/html": { "schema": { "type": "string" } } }
          },
          "404": {
            "description": "Tool not found",
            "content": { "text/html": { "schema": { "type": "string" } } }
          },
          "500": {
            "description": "Internal server error",
            "content": { "text/html": { "schema": { "type": "string" } } }
          }
        }
      }
    },
    "/oauth/callback": {
      "get": {
        "summary": "OAuth authorization callback",
        "description": "Handles OAuth authorization codes and completes the authentication flow",
        "operationId": "oauth-callback",
        "tags": ["OAuth"],
        "parameters": [
          {
            "schema": { "type": "string", "minLength": 1 },
            "required": true,
            "name": "code",
            "in": "query"
          },
          {
            "schema": { "type": "string", "minLength": 1 },
            "required": true,
            "name": "state",
            "in": "query"
          },
          { "schema": { "type": "string" }, "required": false, "name": "error", "in": "query" },
          {
            "schema": { "type": "string" },
            "required": false,
            "name": "error_description",
            "in": "query"
          }
        ],
        "responses": {
          "302": { "description": "Redirect to frontend after successful OAuth" },
          "400": {
            "description": "OAuth error or invalid request",
            "content": { "text/html": { "schema": { "type": "string" } } }
          },
          "500": {
            "description": "Internal server error",
            "content": { "text/html": { "schema": { "type": "string" } } }
          }
        }
      }
    }
  }
}
