---
title: Chat Button
description: Learn how to use the chat button component in React
icon: LuMessageCircle
---

The chat button component is a simple way to trigger the Inkeep chat bubble.

## Installation

<CodeGroup>
```bash title="npm"
npm install @inkeep/agents-ui
```

```bash title="yarn"
yarn add @inkeep/agents-ui
```

```bash title="pnpm"
pnpm add @inkeep/agents-ui
```

</CodeGroup>

## Quick Start

<Tabs>
  <Tab title="Production">

    Use an API key for secure authentication in production:

    ```tsx
    import { InkeepChatButton, type InkeepChatButtonProps } from "@inkeep/agents-ui";

    const buttonProps: InkeepChatButtonProps = {
      aiChatSettings: {
        agentUrl: "https://your-api.example.com/api/chat",
        apiKey: process.env.REACT_APP_INKEEP_API_KEY, // Your API key
      },
    };

    const ChatButton = () => {
      return <InkeepChatButton {...buttonProps} />;
    };
    ```

    **To get an API key:**
    1. Open the Visual Builder Dashboard
    2. Navigate to your Project → **API Keys**
    3. Click **Create New Key** and select your agent
    4. Copy the key (shown once) and store it in your environment variables

  </Tab>

  <Tab title="Development">

    For local development, use headers with your agent IDs:

    ```tsx
    import {
      InkeepChatButton,
      type InkeepChatButtonProps,
    } from "@inkeep/agents-ui";

    const buttonProps: InkeepChatButtonProps = {
      aiChatSettings: {
        agentUrl: "http://localhost:3003/api/chat",
        headers: {
          "x-inkeep-tenant-id": "your-tenant-id",
          "x-inkeep-project-id": "your-project-id",
          "x-inkeep-agent-id": "your-agent-id",
        },
      },
    };

    const ChatButton = () => {
      return <InkeepChatButton {...buttonProps} />;
    };
    ```

    **Note:** Run your API server with `ENVIRONMENT=development` to bypass authentication.

  </Tab>
</Tabs>

## Custom Tool Component

Customize how tool calls are rendered in the chat by providing a custom `IkpTool` component via `aiChatSettings.components`.

The `IkpTool` component receives the following props:
- **`tool`** - A `ToolUIPart` object containing the tool's name, arguments, state, and result
- **`approve`** - An async function to approve or reject tool calls that require user confirmation
- **`renderMarkdown`** - A utility function to render markdown text as React nodes

### Example

```tsx
import { InkeepChatButton, type InkeepChatButtonProps } from "@inkeep/agents-ui";

const CustomToolComponent = ({
  tool,
  approve,
  renderMarkdown,
}: {
  tool: any;
  approve: (approved?: boolean) => Promise<void>;
  renderMarkdown: (text: string) => React.ReactNode;
}) => {
  // Handle tools that require approval
  if (tool.state === "requires-confirmation") {
    return (
      <div className="tool-approval">
        <p>Tool <strong>{tool.toolName}</strong> wants to execute.</p>
        <button onClick={() => approve(true)}>Approve</button>
        <button onClick={() => approve(false)}>Reject</button>
      </div>
    );
  }

  // Handle completed tools
  if (tool.state === "result") {
    return (
      <div className="tool-result">
        <p>✓ {tool.toolName} completed</p>
      </div>
    );
  }

  // Handle tools in progress
  return (
    <div className="tool-loading">
      <p>Running {tool.toolName}...</p>
    </div>
  );
};

const buttonProps: InkeepChatButtonProps = {
  aiChatSettings: {
    agentUrl: "https://your-api.example.com/api/chat",
    apiKey: process.env.REACT_APP_INKEEP_API_KEY,
    components: {
      IkpTool: (props) => <CustomToolComponent {...props} />,
    },
  },
};

const ChatButton = () => {
  return <InkeepChatButton {...buttonProps} />;
};
```

<Tip>Return `null` from the component to hide specific tool calls from the UI.</Tip>

## Props

<AutoTypeTable
  name="default"
  type="export { InkeepChatButtonProps as default } from '@inkeep/agents-ui'"
/>

<Snippet file="chat-components/base-settings.mdx" />

### OpenSettingsChatButton

<AutoTypeTable
  name="default"
  type="export { OpenSettingsChatButton as default } from '@inkeep/agents-ui/types'"
/>

<Snippet file="chat-components/ai-chat-settings.mdx" />
