---
title: Remote Agent Configuration
description: Learn how to configure and use external agents for A2A communication
---

External agents are agents external to a graph that can communicate using the A2A (Agent-to-Agent) protocol. External agents enable you to delegate tasks between graphs within the agent framework or to third-party services.

## Creating an External Agent

Every external agent needs a unique identifier, name, description, base URL for A2A communication, and authentication configuration:

```typescript
import { externalAgent } from "@inkeep/agents-manage-api/builders";

const technicalSupportAgent = externalAgent({
  id: "technical-support-agent",
  name: "Technical Support Team",
  description: "External technical support specialists for complex issues",
  baseUrl: "https://api.example.com/agents/technical-support",
});
```

## External Agent Relationships

Agents can be configured to delegate tasks to external agents.

```typescript
import { agent } from "@inkeep/agents-manage-api/builders";

// Define the customer support agent with delegation capabilities
const supportAgent = agent({
  id: 'support-agent',
  name: 'Customer Support Agent',
  description: 'Handles customer inquiries and escalates technical issues',
  prompt: `You are a customer support agent that handles general customer inquiries.`,
  canDelegateTo: () => [technicalSupportAgent],
});

// Create the customer support graph with external agent capabilities
export const supportGraph = agentGraph({
  id: 'customer-support-graph',
  name: 'Customer Support System',
  description: 'Handles customer inquiries and escalates to technical teams when needed',
  defaultAgent: supportAgent,
  agents: () => [supportAgent, technicalExternalAgent],
});
```

## External Agent Options

The framework supports comprehensive external agent configuration including authentication and custom headers:

```typescript
const externalAgent = externalAgent({
  // Required
  name: "External Support Agent", // Human-readable agent name
  description: "External AI agent for specialized support", // Agent's purpose
  baseUrl: "https://api.example.com/agents/support", // A2A endpoint URL

  // Optional - Static or dynamic headers
  headers: {
    "Authorization": "{{requestContext.Authorization}}",
  },

  // Optional - Credential Reference
  credentialReference: myCredentialReference,
});
```

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `id` | string | Yes | Stable agent identifier used for consistency and persistence |
| `name` | string | Yes | Human-readable name for the external agent |
| `description` | string | Yes | Brief description of the agent's purpose and capabilities |
| `baseUrl` | string | Yes | The A2A endpoint URL where the external agent can be reached |
| `headers` | object | No | HTTP headers to include with every request to the external agent. See [Context Fetchers](/typescript-sdk/context-fetchers) for details about dynamic variables. |
| `credentialReference` | CredentialReference | No | Reference to dynamic credentials for authentication. See [Credentials](/typescript-sdk/credentials) for details |