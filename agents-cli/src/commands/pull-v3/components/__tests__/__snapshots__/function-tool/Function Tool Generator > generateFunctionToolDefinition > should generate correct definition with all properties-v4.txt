import { functionTool } from '@inkeep/agents-sdk';

export const calculateBmi = functionTool({
  name: 'calculate-bmi',
  description: 'Calculate BMI and health category',
  inputSchema: {
    type: 'object',
    properties: {
      weight: {
        type: 'number',
        description: 'Weight in kilograms'
      },
      height: {
        type: 'number',
        description: 'Height in meters'
      }
    },
    required: ['weight', 'height']
  },
  execute: async ({ weight, height }) => {
      const bmi = weight / (height * height);
      let category = 'Normal';
      if (bmi < 18.5) category = 'Underweight';
      else if (bmi >= 30) category = 'Obese';

      return { bmi: Math.round(bmi * 10) / 10, category };
    }
});
