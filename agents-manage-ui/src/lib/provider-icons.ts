// Provider icons - update this list to match exactly what you get from `ls` in the provider-icons directory
const COMMON_PROVIDER_ICONS = new Set([
  '1password',
  '1password-scim',
  'accelo',
  'active-campaign',
  'acuity-scheduling',
  'addepar',
  'addepar-basic',
  'adobe',
  'adobe-umapi',
  'adobe-workfront',
  'adp',
  'adp-lyric',
  'adp-run',
  'adp-workforce-now',
  'adp-workforce-now-next-gen',
  'adyen',
  'affinity',
  'aircall',
  'aircall-basic',
  'airtable',
  'airtable-pat',
  'algolia',
  'amazon',
  'amazon-selling-partner',
  'amazon-selling-partner-beta',
  'amplitude',
  'anrok',
  'anthropic',
  'anthropic-admin',
  'apaleo',
  'apollo',
  'apollo-oauth',
  'apple-app-store',
  'appstle-subscriptions',
  'asana',
  'asana-mcp',
  'asana-scim',
  'ashby',
  'atlas-so',
  'atlassian',
  'atlassian-admin',
  'attio',
  'auth0',
  'auth0-cc',
  'autodesk',
  'autotask',
  'avalara',
  'avalara-sandbox',
  'avoma',
  'aws',
  'aws-iam',
  'aws-scim',
  'azure-blob-storage',
  'azure-devops',
  'bamboohr',
  'bamboohr-basic',
  'basecamp',
  'battlenet',
  'beehiiv',
  'bigcommerce',
  'bill',
  'bill-sandbox',
  'bitbucket',
  'bitdefender',
  'bitly',
  'blackbaud',
  'blackbaud-basic',
  'blandai',
  'boldsign',
  'booking-com',
  'box',
  'braintree',
  'braintree-sandbox',
  'braze',
  'brevo-api-key',
  'brex',
  'brex-api-key',
  'brex-staging',
  'brightcrowd',
  'builder-io-private',
  'builder-io-public',
  'buildium',
  'builtwith',
  'bullhorn',
  'cal-com-v1',
  'cal-com-v2',
  'calendly',
  'callrail',
  'canny',
  'canva',
  'canva-scim',
  'certn',
  'certn-demo',
  'certn-partner',
  'chargebee',
  'chattermill',
  'checkhq',
  'checkout-com',
  'checkout-com-sandbox',
  'checkr-partner',
  'checkr-partner-staging',
  'chorus',
  'circle-so',
  'clari-copilot',
  'clerk',
  'clicksend',
  'clickup',
  'close',
  'cloudentity',
  'coda',
  'codeclimate',
  'codegen',
  'commercetools',
  'companycam',
  'confluence',
  'confluence-basic',
  'confluence-data-center',
  'connectwise-psa',
  'connectwise-psa-staging',
  'contentful',
  'contentstack',
  'copper',
  'copper-api-key',
  'coros',
  'coros-sandbox',
  'coupa-compass',
  'cursor',
  'cyberimpact',
  'databricks-account',
  'databricks-workspace',
  'datacandy',
  'datadog',
  'datev',
  'datto-rmm',
  'datto-rmm-password-grant',
  'dayforce',
  'deel',
  'deel-sandbox',
  'devin',
  'dialpad',
  'dialpad-sandbox',
  'digitalocean',
  'discord',
  'discourse',
  'dixa',
  'document360',
  'docusign',
  'docusign-sandbox',
  'docuware',
  'dropbox',
  'dropbox-sign',
  'drupal',
  'e-conomic',
  'ebay',
  'ebay-sandbox',
  'egnyte',
  'elevenlabs',
  'elevio',
  'emarsys',
  'emarsys-oauth',
  'employment-hero',
  'entrata',
  'envoy',
  'epic-games',
  'evaluagent',
  'eventbrite',
  'exa',
  'exact-online',
  'exist',
  'expensify',
  'facebook',
  'factorial',
  'fairing',
  'falai',
  'fathom',
  'figjam',
  'figma',
  'figma-scim',
  'fillout',
  'fillout-api-key',
  'findymail',
  'firefish',
  'fireflies',
  'fiserv',
  'fiserv-api-key',
  'fitbit',
  'float',
  'folk',
  'fortnox',
  'freshbooks',
  'freshdesk',
  'freshsales',
  'freshservice',
  'freshteam',
  'front',
  'gainsight-cc',
  'garmin',
  'gebruder-weiss',
  'gem',
  'gerrit',
  'ghost-admin',
  'ghost-content',
  'github',
  'github-app',
  'github-app-oauth',
  'github-pat',
  'gitlab',
  'gong',
  'gong-oauth',
  'google',
  'google-ads',
  'google-analytics',
  'google-calendar',
  'google-chat',
  'google-cloud-storage',
  'google-docs',
  'google-drive',
  'google-gemini',
  'google-mail',
  'google-play',
  'google-service-account',
  'google-sheet',
  'google-slides',
  'google-workspace-admin',
  'gorgias',
  'gorgias-basic',
  'grafana',
  'grain',
  'grain-api-key',
  'grammarly',
  'grammarly-scim',
  'greenhouse',
  'greenhouse-assessment',
  'greenhouse-basic',
  'greenhouse-harvest',
  'greenhouse-ingestion',
  'greenhouse-job-board',
  'greenhouse-onboarding',
  'gumroad',
  'guru',
  'guru-scim',
  'gusto',
  'gusto-demo',
  'hackerrank-work',
  'harvest',
  'health-gorilla',
  'heap',
  'helpscout-docs',
  'helpscout-mailbox',
  'hibob-service-user',
  'highlevel',
  'highlevel-white-label',
  'holded',
  'hover',
  'hubspot',
  'incident-io',
  'insightly',
  'instagram',
  'instantly',
  'intercom',
  'intuit',
  'itglue',
  'jamf',
  'jamf-basic',
  'jazzhr',
  'jira',
  'jira-basic',
  'jira-data-center',
  'jira-data-center-api-key',
  'jira-data-center-basic',
  'jobadder',
  'jobber',
  'jobdiva',
  'jobvite',
  'jotform',
  'jumpcloud',
  'kandji',
  'keap',
  'keeper-scim',
  'kintone',
  'kintone-user-api',
  'klaviyo',
  'klaviyo-oauth',
  'klipfolio',
  'knowbe4',
  'kustomer',
  'lagrowthmachine',
  'lastpass',
  'lattice',
  'lemlist',
  'lessonly',
  'lever',
  'lever-basic',
  'lever-basic-sandbox',
  'lever-sandbox',
  'linear',
  'linear-mcp',
  'linkedin',
  'linkhut',
  'listmonk',
  'loom',
  'loom-scim',
  'loops-so',
  'lucid',
  'lucid-scim',
  'luma',
  'mailchimp',
  'mailgun',
  'make',
  'malwarebytes',
  'manatal',
  'marketo',
  'mcp-dynamic',
  'medallia',
  'metabase',
  'microsoft',
  'microsoft-ads',
  'microsoft-business-central',
  'microsoft-entra-id',
  'microsoft-excel',
  'microsoft-oauth2-cc',
  'microsoft-power-bi',
  'microsoft-teams',
  'microsoft-tenant-specific',
  'mindbody',
  'minimax',
  'mip',
  'mip-cloud',
  'mip-on-premise',
  'miro',
  'miro-scim',
  'missive',
  'mixpanel',
  'monday',
  'mural',
  'namely',
  'namely-pat',
  'nationbuilder',
  'netsuite',
  'netsuite-tba',
  'next-cloud-ocs',
  'notion',
  'notion-mcp',
  'notion-scim',
  'odoo',
  'odoo-cc',
  'okta',
  'okta-preview',
  'one-drive',
  'one-note',
  'open-hands',
  'openai',
  'openai-admin',
  'oracle-hcm',
  'ory',
  'osu',
  'oura',
  'outlook',
  'outreach',
  'pagerduty',
  'pandadoc',
  'pandadoc-api-key',
  'pax8',
  'paychex',
  'paycom',
  'paycor',
  'paycor-sandbox',
  'payfit',
  'paylocity',
  'paypal',
  'paypal-sandbox',
  'pendo',
  'pennylane',
  'peopledatalabs',
  'perimeter81',
  'perplexity',
  'personio',
  'personio-recruiting',
  'personio-v2',
  'pingboard',
  'pinterest',
  'pipedream',
  'pipedream-oauth2-cc',
  'pipedrive',
  'pivotaltracker',
  'plain',
  'podium',
  'posthog',
  'precisefp',
  'private-api-basic',
  'private-api-bearer',
  'prive',
  'productboard',
  'qualtrics',
  'quickbase',
  'quickbooks',
  'quickbooks-sandbox',
  'ragieai',
  'ramp',
  'ramp-sandbox',
  'rapidapi',
  'razorpay',
  'readwise',
  'readwise-reader',
  'recharge',
  'recruitcrm',
  'recruitee',
  'recruiterflow',
  'reddit',
  'redtail-crm-sandbox',
  'refiner',
  'replicate',
  'retell-ai',
  'ring-central',
  'ring-central-sandbox',
  'rippling',
  'rippling-shop-app',
  'roam-scim',
  'rock-gym-pro',
  'roller',
  'rootly',
  'sage',
  'sage-hr',
  'sage-intacct',
  'sage-intacct-oauth',
  'sage-people',
  'salesforce',
  'salesforce-cdp',
  'salesforce-experience-cloud',
  'salesforce-sandbox',
  'salesloft',
  'sap-concur',
  'sap-success-factors',
  'scrapedo',
  'sedna',
  'sedna-basic',
  'segment',
  'sellsy',
  'sellsy-oauth2-cc',
  'sendgrid',
  'sentry',
  'sentry-oauth',
  'servicem8',
  'servicenow',
  'setmore',
  'sharepoint-online',
  'sharepoint-online-oauth2-cc',
  'sharepoint-online-v1',
  'shipstation',
  'shopify',
  'shopify-api-key',
  'shopify-partner',
  'shopify-scim',
  'shortcut',
  'signnow',
  'signnow-sandbox',
  'skio',
  'slack',
  'smartlead-ai',
  'smartrecruiters-api-key',
  'smartsheet',
  'smugmug',
  'snapchat',
  'snipe-it',
  'snowflake',
  'snowflake-jwt',
  'splitwise',
  'spotify',
  'spotify-oauth2-cc',
  'squarespace',
  'squareup',
  'squareup-sandbox',
  'stackexchange',
  'strava',
  'strava-web',
  'stripe',
  'stripe-app',
  'stripe-app-sandbox',
  'stripe-express',
  'supabase',
  'survey-monkey',
  'tableau',
  'tailscale',
  'tailscale-api-key',
  'tapclicks',
  'teamtailor',
  'teamwork',
  'terraform',
  'thrivecart-api-key',
  'thrivecart-oauth',
  'ticktick',
  'tiktok-accounts',
  'tiktok-ads',
  'timely',
  'tldv',
  'todoist',
  'trafft',
  'trakstar-hire',
  'trello',
  'trello-scim',
  'tremendous',
  'tremendous-sandbox',
  'tsheetsteam',
  'tumblr',
  'twenty-crm',
  'twenty-crm-self-hosted',
  'twilio',
  'twinfield',
  'twitch',
  'twitter',
  'twitter-oauth2-cc',
  'twitter-v2',
  'typeform',
  'typefully',
  'uber',
  'ukg-pro',
  'ukg-pro-wfm',
  'ukg-ready',
  'unanet',
  'unauthenticated',
  'unipile',
  'vercel',
  'vimeo',
  'vimeo-basic',
  'wakatime',
  'wave-accounting',
  'wealthbox',
  'webex',
  'webflow',
  'whatsapp-business',
  'whoop',
  'wildix-pbx',
  'woocommerce',
  'wordpress',
  'workable',
  'workable-oauth',
  'workday',
  'workday-oauth',
  'wrike',
  'xai',
  'xero',
  'xero-oauth2-cc',
  'yahoo',
  'yandex',
  'yotpo',
  'youtube',
  'zapier',
  'zapier-nla',
  'zapier-scim',
  'zendesk',
  'zenefits',
  'zoho',
  'zoho-bigin',
  'zoho-books',
  'zoho-calendar',
  'zoho-crm',
  'zoho-desk',
  'zoho-inventory',
  'zoho-invoice',
  'zoho-mail',
  'zoho-people',
  'zoom',
  'zoominfo',
  'zuora',
]);

/**
 * Get the best matching icon for a provider string
 * Simple matching logic:
 * 1. Exact match
 * 2. Check if any icon is included in the provider string
 * 3. Check if the provider string is included in any icon
 * 4. Return null if no match
 */
export function getProviderIcon(provider: string): string | null {
  if (!provider) return null;

  const normalized = provider.toLowerCase();

  // 1. Exact match
  if (COMMON_PROVIDER_ICONS.has(normalized)) {
    return normalized;
  }

  // 2. Check if any icon is included in the provider string
  for (const icon of COMMON_PROVIDER_ICONS) {
    if (normalized.includes(icon)) {
      return icon;
    }
  }

  // 3. Check if the provider string is included in any icon
  for (const icon of COMMON_PROVIDER_ICONS) {
    if (icon.includes(normalized)) {
      return icon;
    }
  }

  // 4. No match found
  return null;
}

/**
 * Get all available provider icons (for debugging/admin purposes)
 */
export function getAllProviderIcons(): string[] {
  return Array.from(COMMON_PROVIDER_ICONS).sort();
}
